{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Documents/Csc350%20pj1/musicv.3/src/lib/firebase.js"],"sourcesContent":["// lib/firebase.js (หรือ src/lib/firebase.js)\r\n\r\nimport { initializeApp, getApps, getApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDjKfFO7maPIOF8BspiU1wkLNgV9ipffNs\",\r\n  authDomain: \"testmusic-79383.firebaseapp.com\",\r\n  projectId: \"testmusic-79383\",\r\n  storageBucket: \"testmusic-79383.firebasestorage.app\",\r\n  messagingSenderId: \"198991673510\",\r\n  appId: \"1:198991673510:web:0a16a620d9b5d1805adc67\",\r\n  measurementId: \"G-5EW3XYPVR5\"\r\n};\r\n\r\n// Initialize Firebase App (ป้องกันการ init ซ้ำ)\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n\r\n// Initialize Firebase Services\r\nconst auth = getAuth(app);\r\nconst db = getFirestore(app);\r\n\r\n// -------- นี่คือบรรทัดที่สำคัญ --------\r\n// Export สิ่งที่ต้องการให้ไฟล์อื่นนำไปใช้\r\nexport { app, auth, db };\r\n// -------------------------------------"],"names":[],"mappings":"AAAA,6CAA6C;;;;;;AAE7C;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,gDAAgD;AAChD,MAAM,MAAM,CAAC,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,GAAG,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE,kBAAkB,CAAA,GAAA,oLAAA,CAAA,SAAM,AAAD;AAErE,+BAA+B;AAC/B,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;;CAKxB,wCAAwC","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Documents/Csc350%20pj1/musicv.3/src/app/page.js"],"sourcesContent":["\"use client\";\nimport Link from 'next/link';\nimport { useEffect, useState, useMemo, useCallback, useRef } from \"react\";\n// --- Firebase Imports ---\nimport { collection, getDocs, query, where, orderBy } from 'firebase/firestore';\nimport { db } from '@/lib/firebase';\n\n// --- Main Component ---\nexport default function MusicPlayer() {\n  // --- State Declarations ---\n  const [allAlbums, setAllAlbums] = useState([]);\n  const [albumSongs, setAlbumSongs] = useState([]);\n  const [selectedAlbum, setSelectedAlbum] = useState(null);\n  const [playlist, setPlaylist] = useState([]);\n\n  // Player State\n  const [activeYoutubeId, setActiveYoutubeId] = useState(null); // The ID of the video to be loaded/played\n  const [currentSongInfo, setCurrentSongInfo] = useState(null);\n  const [isPlayingFromPlaylist, setIsPlayingFromPlaylist] = useState(false);\n  const [currentPlaylistIndex, setCurrentPlaylistIndex] = useState(-1);\n  const [isPlayerPlaying, setIsPlayerPlaying] = useState(false); // True if YT player is actually playing\n\n  // --- YouTube Player API State ---\n  const [youtubeApiReady, setYoutubeApiReady] = useState(false);\n  const playerRef = useRef(null); // To store the YT.Player instance\n\n  // UI State\n  const [isLoadingAlbums, setIsLoadingAlbums] = useState(false);\n  const [isLoadingSongs, setIsLoadingSongs] = useState(false);\n  const [error, setError] = useState(null);\n  const [showPlaylistView, setShowPlaylistView] = useState(false);\n\n  const getYoutubeId = useCallback((url) => {\n    if (!url || typeof url !== 'string') return null;\n    const regExp = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\n    const match = url.match(regExp);\n    if (match && match[1]) return match[1];\n    if (!url.includes(\"http\") && url.length >= 11 && !url.includes(\" \")) return url;\n    return null;\n  }, []);\n\n  const getThumbnailUrl = useCallback((youtubeId, size = 'default') => {\n    if (!youtubeId) return `/api/placeholder/${size === 'mqdefault' ? '320/180' : '120/90'}`;\n    return `https://img.youtube.com/vi/${youtubeId}/${size}.jpg`;\n  }, []);\n\n  // --- Effects ---\n\n  // Effect 1: Fetch Albums & Load Playlist on initial mount\n  useEffect(() => {\n    const fetchAlbums = async () => {\n      setIsLoadingAlbums(true);\n      setError(null);\n      try {\n        const albumsCollectionRef = collection(db, 'albums');\n        const albumSnapshot = await getDocs(albumsCollectionRef);\n        const albumList = albumSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        if (Array.isArray(albumList)) {\n          albumList.sort((a, b) => (a.title || '').localeCompare(b.title || ''));\n          setAllAlbums(albumList);\n        } else {\n          throw new Error(\"Invalid album data format.\");\n        }\n      } catch (err) {\n        console.error(\"Firebase fetch albums error:\", err);\n        setError(err.message || \"Failed to load albums.\");\n        setAllAlbums([]);\n      } finally {\n        setIsLoadingAlbums(false);\n      }\n    };\n\n    const loadPlaylist = () => {\n      const savedPlaylist = localStorage.getItem(\"musicPlaylist\");\n      if (savedPlaylist) {\n        try {\n          const parsedPlaylist = JSON.parse(savedPlaylist);\n          if (Array.isArray(parsedPlaylist)) {\n            const validated = parsedPlaylist.filter(item =>\n              item && typeof item === 'object' && item.youtubeLink && item.songTitle && getYoutubeId(item.youtubeLink)\n            ).map(item => ({\n              ...item,\n              songTitle: item.songTitle || 'Unknown Title',\n              bandName: item.bandName || 'Unknown Artist'\n            }));\n            setPlaylist(validated);\n          } else { localStorage.removeItem(\"musicPlaylist\"); }\n        } catch (e) { localStorage.removeItem(\"musicPlaylist\"); }\n      }\n    };\n\n    fetchAlbums();\n    loadPlaylist();\n  }, [getYoutubeId]);\n\n  // Effect 2: Fetch Songs when an album is selected\n  useEffect(() => {\n    const fetchSongsForAlbum = async () => {\n      if (!selectedAlbum || !selectedAlbum.id) {\n        setAlbumSongs([]);\n        return;\n      }\n      setIsLoadingSongs(true);\n      setError(null);\n      try {\n        const songsCollectionRef = collection(db, 'songs');\n        const q = query(\n          songsCollectionRef,\n          where(\"albumId\", \"==\", selectedAlbum.id),\n          orderBy(\"trackNumber\", \"asc\")\n        );\n        const songSnapshot = await getDocs(q);\n        const songList = songSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        if (Array.isArray(songList)) {\n          setAlbumSongs(songList)\n        } else {\n          throw new Error(\"Invalid song data format for album.\");\n        }\n      } catch (err) {\n        console.error(`Firebase fetch songs error for album ${selectedAlbum.id}:`, err);\n        setError(err.message || `Failed to load songs for album \"${selectedAlbum.title}\".`);\n        setAlbumSongs([]);\n      } finally {\n        setIsLoadingSongs(false);\n      }\n    };\n    fetchSongsForAlbum();\n  }, [selectedAlbum]);\n\n  // Effect 3: Save personal playlist to localStorage\n  useEffect(() => {\n    if (Array.isArray(playlist)) {\n      if (playlist.length > 0) {\n        localStorage.setItem(\"musicPlaylist\", JSON.stringify(playlist));\n      } else {\n        localStorage.removeItem(\"musicPlaylist\");\n      }\n    }\n  }, [playlist]);\n\n  // Effect 4: Update current song info for the mini player\n  useEffect(() => {\n    if (!activeYoutubeId) {\n      setCurrentSongInfo(null); return;\n    }\n    let foundSong = null;\n    if (isPlayingFromPlaylist && currentPlaylistIndex >= 0 && currentPlaylistIndex < playlist.length) {\n      const plSong = playlist[currentPlaylistIndex];\n      if (plSong && getYoutubeId(plSong.youtubeLink) === activeYoutubeId) foundSong = plSong;\n    }\n    if (!foundSong && selectedAlbum && Array.isArray(albumSongs)) {\n      foundSong = albumSongs.find(song => song && song.youtubeLink && getYoutubeId(song.youtubeLink) === activeYoutubeId);\n    }\n    // Fallback to searching entire playlist if not found yet (e.g., song played from album then added to playlist)\n    if (!foundSong && Array.isArray(playlist)) {\n      foundSong = playlist.find(song => song && song.youtubeLink && getYoutubeId(song.youtubeLink) === activeYoutubeId);\n    }\n\n    setCurrentSongInfo(foundSong ? {\n      id: foundSong.id || null,\n      songTitle: foundSong.songTitle || 'Unknown Title',\n      bandName: foundSong.bandName || selectedAlbum?.album_name || 'Unknown Artist',\n      youtubeLink: foundSong.youtubeLink,\n      albumTitle: foundSong.albumTitle || selectedAlbum?.title || null,\n      coverUrl: foundSong.coverUrl || selectedAlbum?.coverUrl || null,\n    } : null);\n  }, [activeYoutubeId, selectedAlbum, albumSongs, playlist, isPlayingFromPlaylist, currentPlaylistIndex, getYoutubeId]);\n\n\n  // Effect 5: Load YouTube IFrame API\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      if (!window.YT || !window.YT.Player) {\n        const tag = document.createElement('script');\n        tag.src = \"https://www.youtube.com/iframe_api\";\n        const firstScriptTag = document.getElementsByTagName('script')[0];\n        if (firstScriptTag && firstScriptTag.parentNode) {\n            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        } else {\n            document.head.appendChild(tag);\n        }\n        window.onYouTubeIframeAPIReady = () => {\n          setYoutubeApiReady(true);\n        };\n      } else {\n        setYoutubeApiReady(true);\n      }\n    }\n    return () => {\n        // Clean up global callback if component unmounts before API loads\n        if (typeof window !== 'undefined' && window.onYouTubeIframeAPIReady && !youtubeApiReady) {\n           // window.onYouTubeIframeAPIReady = null; // Avoid issues if multiple instances or fast remounts\n        }\n    };\n  }, []); // Removed youtubeApiReady from dependency array as it's what this effect sets\n\n\n  // --- Action Handlers ---\n\n  const handleSelectAlbum = useCallback((album) => {\n    setSelectedAlbum(album);\n    setShowPlaylistView(false);\n    setError(null);\n    window.scrollTo(0, 0);\n  }, []);\n\n  const handleBackToAlbums = useCallback(() => {\n    setSelectedAlbum(null);\n    setAlbumSongs([]);\n    setError(null);\n    window.scrollTo(0, 0);\n  }, []);\n\n  const handlePlaySong = useCallback((songData, fromPlaylist = false, index = -1) => {\n    if (!songData || !songData.youtubeLink) {\n      setError(\"Missing song data or YouTube link.\"); return;\n    }\n    const youtubeId = getYoutubeId(songData.youtubeLink);\n    if (youtubeId) {\n      setActiveYoutubeId(youtubeId);\n      setIsPlayingFromPlaylist(fromPlaylist);\n      setCurrentPlaylistIndex(index); // <--- ตั้ง index นี้เสมอ\n      setError(null);\n    } else {\n      setError(`Invalid YouTube link for \"${songData.songTitle || 'this song'}\".`);\n    }\n  }, [getYoutubeId]); // Dependencies ของ handlePlaySong ควรจะครบถ้วน\n\n  const handleTogglePlayPause = useCallback(() => {\n    if (playerRef.current && typeof playerRef.current.getPlayerState === 'function') {\n      const playerState = playerRef.current.getPlayerState();\n      if (playerState === window.YT.PlayerState.PLAYING) {\n        playerRef.current.pauseVideo();\n        setIsPlayerPlaying(false);\n      } else if (playerState === window.YT.PlayerState.PAUSED || playerState === window.YT.PlayerState.CUED) {\n        playerRef.current.playVideo();\n        setIsPlayerPlaying(true);\n      } else if (activeYoutubeId && (playerState === window.YT.PlayerState.UNSTARTED || playerState === window.YT.PlayerState.ENDED) ) {\n        // If unstarted or ended, and we have an active ID, try to play it.\n        // This might happen if the player was stopped or a song ended and user hits play.\n        playerRef.current.loadVideoById(activeYoutubeId); // loadVideoById often autoplays due to playerVars\n        playerRef.current.playVideo(); // Ensure it plays\n        setIsPlayerPlaying(true);\n      }\n    }\n  }, [activeYoutubeId]);\n\n  const handleStopPlayback = useCallback(() => {\n    if (playerRef.current && typeof playerRef.current.stopVideo === 'function') {\n      playerRef.current.stopVideo();\n    }\n    // setActiveYoutubeId(null); // This would remove the mini-player. Let's keep it so user can resume.\n    setIsPlayerPlaying(false);\n    // Optionally:\n    // setCurrentSongInfo(null);\n    // setIsPlayingFromPlaylist(false);\n    // setCurrentPlaylistIndex(-1);\n  }, []);\n\n  const handleClosePlayer = useCallback(() => { // New function to completely close player\n    if (playerRef.current && typeof playerRef.current.stopVideo === 'function') {\n      playerRef.current.stopVideo();\n    }\n    setActiveYoutubeId(null);\n    setCurrentSongInfo(null);\n    setIsPlayerPlaying(false);\n    setIsPlayingFromPlaylist(false);\n    setCurrentPlaylistIndex(-1);\n  }, []);\n\n\n  const handlePlayNext = useCallback(() => {\n    if (!isPlayingFromPlaylist || playlist.length === 0) return;\n    const nextIndex = (currentPlaylistIndex + 1) % playlist.length;\n    if (playlist[nextIndex]) {\n      handlePlaySong(playlist[nextIndex], true, nextIndex);\n    }\n  }, [isPlayingFromPlaylist, playlist, currentPlaylistIndex, handlePlaySong]);\n// ... ภายใน Component MusicPlayer ...\n\nconst handlePlayNextInAlbum = useCallback(() => {\n  if (isPlayingFromPlaylist || !selectedAlbum || !albumSongs || albumSongs.length <= 1) return;\n\n  const currentPlayingId = activeYoutubeId;\n  if (!currentPlayingId) return;\n\n  const currentIndex = albumSongs.findIndex(\n    (song) => song && getYoutubeId(song.youtubeLink) === currentPlayingId\n  );\n\n  if (currentIndex !== -1) {\n    const nextIndex = (currentIndex + 1) % albumSongs.length; // วนกลับไปเพลงแรกถ้าถึงเพลงสุดท้าย\n    // หรือถ้าไม่ต้องการวน:\n    // const nextIndex = currentIndex + 1;\n    // if (nextIndex < albumSongs.length) {\n    //   handlePlaySong(albumSongs[nextIndex], false, nextIndex);\n    // } else {\n    //   // ถึงเพลงสุดท้ายแล้ว อาจจะ disable ปุ่ม next หรือทำอย่างอื่น\n    //   console.log(\"Last song of album reached via Next button.\");\n    // }\n    handlePlaySong(albumSongs[nextIndex], false, nextIndex);\n  }\n}, [activeYoutubeId, selectedAlbum, albumSongs, isPlayingFromPlaylist, handlePlaySong, getYoutubeId]);\n\nconst handlePlayPreviousInAlbum = useCallback(() => {\n  if (isPlayingFromPlaylist || !selectedAlbum || !albumSongs || albumSongs.length <= 1) return;\n\n  const currentPlayingId = activeYoutubeId;\n  if (!currentPlayingId) return;\n\n  const currentIndex = albumSongs.findIndex(\n    (song) => song && getYoutubeId(song.youtubeLink) === currentPlayingId\n  );\n\n  if (currentIndex !== -1) {\n    const prevIndex = (currentIndex - 1 + albumSongs.length) % albumSongs.length; // วนกลับไปเพลงสุดท้ายถ้าถึงเพลงแรก\n    // หรือถ้าไม่ต้องการวน:\n    // const prevIndex = currentIndex - 1;\n    // if (prevIndex >= 0) {\n    //   handlePlaySong(albumSongs[prevIndex], false, prevIndex);\n    // } else {\n    //   // ถึงเพลงแรกแล้ว อาจจะ disable ปุ่ม prev หรือทำอย่างอื่น\n    //   console.log(\"First song of album reached via Previous button.\");\n    // }\n    handlePlaySong(albumSongs[prevIndex], false, prevIndex);\n  }\n}, [activeYoutubeId, selectedAlbum, albumSongs, isPlayingFromPlaylist, handlePlaySong, getYoutubeId]);\n  const handlePlayPrevious = useCallback(() => {\n    if (!isPlayingFromPlaylist || playlist.length === 0) return;\n    const prevIndex = (currentPlaylistIndex - 1 + playlist.length) % playlist.length;\n    if (playlist[prevIndex]) {\n      handlePlaySong(playlist[prevIndex], true, prevIndex);\n    }\n  }, [isPlayingFromPlaylist, playlist, currentPlaylistIndex, handlePlaySong]);\n\n  // --- YouTube Player Effect (Creation and Control) ---\n  useEffect(() => {\n    // Player Event Handlers (defined inside so they have access to current state/props)\n    const onPlayerReadyInternal = (event) => {\n      // console.log(\"Player is ready. Autoplay is ON in playerVars.\");\n      // PlayerVars autoplay: 1 should handle this.\n      // If a video ID was set before player was ready, play it.\n      if (activeYoutubeId) {\n          event.target.playVideo(); // Ensure playback if activeYoutubeId already set\n      }\n    };\n\n    const onPlayerErrorInternal = (event) => {\n      console.error(\"YouTube Player Error:\", event.data, \"for videoId:\", playerRef.current?.getVideoData?.().video_id || activeYoutubeId);\n      setError(`Playback error (Code: ${event.data}). Trying next...`);\n      setIsPlayerPlaying(false);\n\n      // Automatically try to play the next song\n      if (isPlayingFromPlaylist) {\n          if (playlist.length > 1) handlePlayNext();\n          else handleClosePlayer(); // Stop if it was the only song or last\n      } else if (selectedAlbum && albumSongs.length > 0) {\n          const currentActualId = playerRef.current?.getVideoData?.().video_id || activeYoutubeId;\n          const currentIndex = albumSongs.findIndex(s => getYoutubeId(s.youtubeLink) === currentActualId);\n          if (currentIndex !== -1 && currentIndex < albumSongs.length - 1) {\n              handlePlaySong(albumSongs[currentIndex + 1], false);\n          } else {\n              handleClosePlayer();\n          }\n      } else {\n          handleClosePlayer();\n      }\n    };\n\n    const onPlayerStateChangeInternal = (event) => {\n      if (event.data === window.YT.PlayerState.PLAYING) {\n        setIsPlayerPlaying(true);\n        setError(null); // Clear previous errors on successful play\n      } else if (event.data === window.YT.PlayerState.PAUSED) {\n        setIsPlayerPlaying(false);\n      } else if (event.data === window.YT.PlayerState.ENDED) {\n        setIsPlayerPlaying(false);\n        console.log(\"Song ended. Playing next.\");\n        if (isPlayingFromPlaylist) {\n          handlePlayNext();\n        } else if (selectedAlbum && albumSongs.length > 0) {\n          const currentActualId = playerRef.current?.getVideoData?.().video_id || activeYoutubeId;\n          const currentIndex = albumSongs.findIndex(s => getYoutubeId(s.youtubeLink) === currentActualId);\n          const endedSongId = playerRef.current?.getVideoData?.().video_id || activeYoutubeId;\n          if (!endedSongId) {\n            handleClosePlayer(); // ไม่มี ID ให้หยุด\n            return;\n          }\n\n          // 2. หา index ของเพลงที่เพิ่งจบใน albumSongs\n          const currentIndexInAlbum = albumSongs.findIndex(\n            (song) => song && getYoutubeId(song.youtubeLink) === endedSongId\n          );\n\n          if (currentIndexInAlbum !== -1 && currentIndexInAlbum < albumSongs.length - 1) {\n            // 3. ถ้าเจอและไม่ใช่เพลงสุดท้าย ให้เล่นเพลงถัดไปในอัลบั้ม\n            const nextSongInAlbum = albumSongs[currentIndexInAlbum + 1];\n            // ส่ง index ของเพลงถัดไปในอัลบั้มไปด้วย\n            handlePlaySong(nextSongInAlbum, false, currentIndexInAlbum + 1);\n          } else {\n            // 4. ถ้าเป็นเพลงสุดท้ายของอัลบั้ม หรือหาไม่เจอ\n            console.log(\"Last song of album ended or current song not found in albumSongs.\");\n            // ตัวเลือก:\n            // A. หยุดเล่นและปิด Player\n            handleClosePlayer();\n            // B. หยุดเล่นแต่ยังแสดง Mini Player (ถ้าต้องการให้ผู้ใช้กดเล่นเพลงอื่นต่อเอง)\n            // handleStopPlayback(); // หรือแค่ setIsPlayerPlaying(false);\n            // C. วนกลับไปเล่นเพลงแรกของอัลบั้ม (ถ้าต้องการ)\n            // if (albumSongs.length > 0) {\n            //   handlePlaySong(albumSongs[0], false, 0);\n            // } else {\n            //   handleClosePlayer();\n            // }\n          }\n        } else {\n          // กรณีอื่นๆ ที่ไม่ได้มาจากเพลย์ลิสต์หรืออัลบั้มที่ชัดเจน\n          handleClosePlayer();\n        }\n      } else if (event.data === window.YT.PlayerState.UNSTARTED) {\n          // This can happen if a video is loaded but not auto-played.\n          // If we intended it to play (e.g. activeYoutubeId is set), we can try to play it.\n          // However, autoplay:1 in playerVars usually handles this.\n      } else if (event.data === window.YT.PlayerState.BUFFERING) {\n          // Potentially show a buffering indicator\n      } else if (event.data === window.YT.PlayerState.CUED) {\n          // Video is cued and ready to play.\n          // If we want it to play now (e.g. after user action or auto-next)\n          // playerRef.current.playVideo();\n      }\n    };\n\n    // Initialize Player or Load New Video\n    if (youtubeApiReady && document.getElementById('youtube-player-container')) {\n      if (!playerRef.current) { // If player doesn't exist, create it\n        if (window.YT && window.YT.Player) {\n          playerRef.current = new window.YT.Player('youtube-player-container', {\n            height: '0',\n            width: '0',\n            videoId: activeYoutubeId || '', // Initial video ID (can be empty)\n            playerVars: {\n              'autoplay': 1, 'controls': 0, 'showinfo': 0, 'rel': 0,\n              'modestbranding': 1, 'iv_load_policy': 3, 'playsinline': 1\n            },\n            events: {\n              'onReady': onPlayerReadyInternal,\n              'onStateChange': onPlayerStateChangeInternal,\n              'onError': onPlayerErrorInternal\n            }\n          });\n        } else {\n            console.warn(\"YT.Player constructor not found, API ready flag might be premature.\");\n        }\n      } else { // Player exists, so if activeYoutubeId changed, load the new video\n        const currentVideoUrl = playerRef.current.getVideoUrl();\n        const currentVideoId = currentVideoUrl ? getYoutubeId(currentVideoUrl) : null;\n\n        if (activeYoutubeId && activeYoutubeId !== currentVideoId) {\n          playerRef.current.loadVideoById(activeYoutubeId);\n          // Autoplay is handled by playerVars, but playVideo() can be called in onPlayerStateChange CUED or onReady if needed.\n          setIsPlayerPlaying(true); // Assume it will play\n        } else if (!activeYoutubeId && currentVideoId) { // If activeYoutubeId is cleared, stop video\n          playerRef.current.stopVideo();\n          setIsPlayerPlaying(false);\n        }\n      }\n    }\n\n    // Cleanup on component unmount\n    return () => {\n      // Don't destroy the player on every re-render, only on unmount.\n      // If we want to destroy and recreate the player (e.g. if some fundamental config changes),\n      // this cleanup would run before the effect re-runs.\n      // For now, we assume the player instance is persistent for the component's lifecycle.\n      // To destroy on unmount:\n      // if (playerRef.current && typeof playerRef.current.destroy === 'function') {\n      //   playerRef.current.destroy();\n      //   playerRef.current = null;\n      // }\n    };\n  }, [\n      youtubeApiReady,\n      activeYoutubeId, // Re-run if the target video ID changes\n      // Callbacks that are stable but listed for completeness if player logic depends on their latest versions\n      isPlayingFromPlaylist, playlist, albumSongs, selectedAlbum,\n      handlePlayNext, handlePlaySong, handleClosePlayer, getYoutubeId, setError\n    ]);\n\n\n  // --- Playlist Handlers ---\n  const handleAddToPlaylist = useCallback((songToAdd) => {\n    if (!songToAdd || typeof songToAdd !== 'object' || !songToAdd.youtubeLink || !songToAdd.songTitle) {\n      // Consider using a more user-friendly notification system than alert\n      alert(\"Cannot add invalid song data to playlist.\"); return;\n    }\n    const songYoutubeId = getYoutubeId(songToAdd.youtubeLink);\n    if (!songYoutubeId) { alert(\"Invalid YouTube link, cannot add.\"); return; }\n\n    const alreadyExists = playlist.some(item => item && item.youtubeLink && getYoutubeId(item.youtubeLink) === songYoutubeId);\n    const title = songToAdd.songTitle || 'Unknown Title';\n    if (!alreadyExists) {\n      const entry = {\n        id: songToAdd.id || `local-${Date.now()}-${Math.random().toString(36).substring(7)}`,\n        songTitle: title,\n        bandName: songToAdd.bandName || selectedAlbum?.album_name || 'Unknown Artist',\n        youtubeLink: songToAdd.youtubeLink,\n        albumTitle: songToAdd.albumTitle || selectedAlbum?.title || null,\n        coverUrl: songToAdd.coverUrl || selectedAlbum?.coverUrl || getThumbnailUrl(songYoutubeId, 'mqdefault'),\n      };\n      setPlaylist(prev => [...prev, entry]);\n      // alert(`Added \"${title}\" to playlist.`); // Consider toast notification\n    } else {\n      alert(`\"${title}\" is already in the playlist.`);\n    }\n  }, [playlist, selectedAlbum, getYoutubeId, getThumbnailUrl]);\n\n  const handleRemoveFromPlaylist = useCallback((index) => {\n    if (index < 0 || index >= playlist.length) return;\n    const songToRemove = playlist[index];\n    const title = songToRemove?.songTitle || 'This song';\n    const newPlaylist = playlist.filter((_, i) => i !== index);\n    setPlaylist(newPlaylist);\n    // alert(`Removed \"${title}\" from playlist.`); // Consider toast notification\n\n    // If the removed song was playing or affected the current playing index\n    if (isPlayingFromPlaylist) {\n      const removedSongYoutubeId = getYoutubeId(songToRemove.youtubeLink);\n      if (activeYoutubeId === removedSongYoutubeId && currentPlaylistIndex === index) { // If the exact playing song is removed\n        if (newPlaylist.length > 0) {\n          // Play the song that takes its place, or the first if it was the last\n          const nextPlayIndex = Math.min(index, newPlaylist.length - 1);\n          handlePlaySong(newPlaylist[nextPlayIndex], true, nextPlayIndex);\n        } else {\n          handleClosePlayer(); // Playlist is now empty\n        }\n      } else if (index < currentPlaylistIndex) {\n        // If a song before the current one was removed, adjust the index\n        setCurrentPlaylistIndex(prev => prev - 1);\n      }\n      // If playlist becomes empty and something was playing from it, stop.\n      else if (newPlaylist.length === 0) {\n        handleClosePlayer();\n      }\n    }\n  }, [playlist, isPlayingFromPlaylist, currentPlaylistIndex, activeYoutubeId, handlePlaySong, handleClosePlayer, getYoutubeId]);\n\n  const handleClearPlaylist = useCallback(() => {\n    if (playlist.length > 0 && confirm(\"Are you sure you want to clear the entire playlist? This cannot be undone.\")) {\n      setPlaylist([]);\n      if (isPlayingFromPlaylist) handleClosePlayer();\n      // alert(\"Playlist cleared.\");\n    }\n  }, [playlist, isPlayingFromPlaylist, handleClosePlayer]);\n\n  const handleShufflePlay = useCallback(() => {\n    if (playlist.length === 0) return;\n    if (playlist.length === 1) {\n        handlePlaySong(playlist[0], true, 0); return;\n    }\n    let randomIndex;\n    do {\n        randomIndex = Math.floor(Math.random() * playlist.length);\n    } while (playlist.length > 1 && activeYoutubeId && getYoutubeId(playlist[randomIndex].youtubeLink) === activeYoutubeId);\n    // The above condition tries to pick a DIFFERENT song if one is already playing from the playlist.\n    // If it's the only song or no song is playing, it will pick it.\n    handlePlaySong(playlist[randomIndex], true, randomIndex);\n  }, [playlist, activeYoutubeId, handlePlaySong, getYoutubeId]);\n\n\n  // --- Render Logic ---\n  const renderAlbumList = () => (\n    <div>\n      <h2 style={styles.viewTitle}>Discover Albums</h2>\n      {isLoadingAlbums && <div style={styles.loadingBox}>Loading albums... <span style={styles.dotFlashing}></span></div>}\n      {!isLoadingAlbums && allAlbums.length === 0 && !error && <p style={styles.infoText}>No albums found. Add some in the admin section!</p>}\n      {!isLoadingAlbums && error && <p style={styles.infoText}>Could not load albums: {error}</p>}\n      <div style={styles.albumGrid}>\n        {allAlbums.map((album) => (\n          <div key={album.id} style={styles.albumCard} className=\"album-card-hover\" onClick={() => handleSelectAlbum(album)} title={`View album: ${album.title}`}>\n            <img\n              src={album.coverUrl || getThumbnailUrl(getYoutubeId(album.sampleTrackLink), 'mqdefault') || '/api/placeholder/200/200'}\n              alt={album.title || 'Album cover'}\n              style={styles.albumCover}\n              loading=\"lazy\"\n              onError={(e) => e.target.src = '/api/placeholder/200/200'}\n            />\n            <div style={styles.albumInfo}>\n              <h3 style={styles.albumTitle} title={album.title}>{album.title || 'Untitled Album'}</h3>\n              <p style={styles.albumArtist} title={album.album_name}>{album.album_name || 'Unknown Artist'}</p>\n              {album.releaseYear && <p style={styles.albumYear}>{album.releaseYear}</p>}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderAlbumSongs = () => (\n    <div>\n      <button onClick={handleBackToAlbums} style={styles.backButton} className=\"base-button-class\">\n        ← Back to Albums\n      </button>\n      <div style={styles.albumDetailHeader}>\n        <img\n          src={selectedAlbum.coverUrl || '/api/placeholder/200/200'}\n          alt={selectedAlbum.title || ''}\n          style={styles.albumDetailCover}\n          onError={(e) => e.target.src = '/api/placeholder/200/200'}\n        />\n        <div style={styles.albumDetailInfo}>\n          <p style={styles.albumDetailType}>ALBUM</p>\n          <h2 style={styles.albumDetailTitle} title={selectedAlbum.title}>{selectedAlbum.title}</h2>\n          <p style={styles.albumDetailArtist}>\n            {selectedAlbum.album_name || 'Unknown Artist'}\n            {selectedAlbum.releaseYear && ` • ${selectedAlbum.releaseYear}`}\n            {albumSongs.length > 0 && ` • ${albumSongs.length} song${albumSongs.length > 1 ? 's' : ''}`}\n          </p>\n          <button\n            onClick={() => albumSongs.length > 0 && handlePlaySong(albumSongs[0], false, 0)}\n             // Start with index 0 for album play\n            style={styles.playAlbumButton}\n            className=\"base-button-class\"\n            disabled={albumSongs.length === 0 || isLoadingSongs}\n            title={albumSongs.length > 0 ? `Play album: ${selectedAlbum.title}` : \"No songs available to play\"}\n          >\n            ▶️ Play Album\n          </button>\n        </div>\n      </div>\n\n      <h3 style={styles.viewTitle}>Tracklist</h3>\n      {isLoadingSongs && <div style={styles.loadingBox}>Loading songs... <span style={styles.dotFlashing}></span></div>}\n      {!isLoadingSongs && albumSongs.length === 0 && !error && <p style={styles.infoText}>No songs found in this album.</p>}\n      {!isLoadingSongs && error && <p style={styles.infoText}>Could not load songs: {error}</p>}\n\n      <div style={styles.songList}>\n        {albumSongs.map((song, index) => {\n          if (!song || !song.youtubeLink || !song.songTitle) return null;\n          const youtubeId = getYoutubeId(song.youtubeLink);\n          const isCurrentlyPlayingSong = activeYoutubeId === youtubeId;\n          const isActive = isCurrentlyPlayingSong && !isPlayingFromPlaylist;\n\n\n          return (\n            <div\n              key={song.id || `albumsong-${index}`}\n              style={{ ...styles.songItem, ...(isActive ? styles.songItemActive : {}) }}\n              className=\"song-item-hover\"\n              onClick={() => handlePlaySong(song, false, index)} // Pass index for album context too\n              title={`Play ${song.songTitle}`}\n            >\n              <div style={styles.trackNumberContainer}>\n                 <span style={styles.trackNumber} className=\"track-number-display\">{song.trackNumber || index + 1}</span>\n                 <span className=\"play-icon\" style={styles.playIcon}>\n                    {isCurrentlyPlayingSong && isPlayerPlaying ? '❚❚' : '▶'}\n                 </span>\n              </div>\n              <div style={styles.songContent} >\n                <div style={styles.songInfo}>\n                  <h4 style={{...styles.songTitle, color: isActive ? styles.songItemActive.color : styles.songTitle.color}}>{song.songTitle}</h4>\n                </div>\n              </div>\n              <div style={styles.songActions}>\n                <button\n                   onClick={(e) => { e.stopPropagation(); handleAddToPlaylist({ ...song, albumTitle: selectedAlbum.title, coverUrl: selectedAlbum.coverUrl }); }}\n                   style={styles.actionIcon}\n                   title=\"Add to Playlist\"\n                   className=\"add-button-hover action-icon-button\"\n                >\n                    +\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n\n  const renderPersonalPlaylist = () => (\n    <div style={styles.playlistContainer}>\n      <div style={styles.playlistHeader}>\n        <h2 style={styles.viewTitle}>My Playlist</h2>\n        <div style={styles.playlistHeaderActions}>\n          {playlist.length > 0 && (\n            <>\n              <button onClick={handleShufflePlay} style={styles.playlistActionButton} className=\"base-button-class\" title=\"Shuffle Play Playlist\">\n                <span role=\"img\" aria-label=\"Shuffle\">🔀</span> Shuffle\n              </button>\n              <button onClick={handleClearPlaylist} style={styles.playlistActionButton} className=\"base-button-class\" title=\"Clear Entire Playlist\">\n                <span role=\"img\" aria-label=\"Trash Can\">🗑️</span> Clear All\n              </button>\n            </>\n          )}\n          <button onClick={() => setShowPlaylistView(false)} style={styles.playlistCloseButton} className=\"action-icon-button\" title=\"Close Playlist View\">✕</button>\n        </div>\n      </div>\n\n      {playlist.length === 0 ? (\n        <div style={styles.emptyPlaylistMessage}>\n          <span style={{fontSize: '2em', marginBottom: '10px'}}>🎧</span>\n          <p>Your playlist is feeling lonely!</p>\n          <p>Find albums you like and click the '+' button on songs to add them here.</p>\n        </div>\n      ) : (\n        <div style={styles.songList}>\n          {playlist.map((song, index) => {\n            if (!song || !song.youtubeLink || !song.songTitle) return null;\n            const youtubeId = getYoutubeId(song.youtubeLink);\n            const isCurrentlyPlayingSong = activeYoutubeId === youtubeId;\n            const isActive = isCurrentlyPlayingSong && isPlayingFromPlaylist && currentPlaylistIndex === index;\n\n            return (\n              <div\n                key={song.id || `playlist-${index}-${youtubeId}`}\n                style={{ ...styles.songItem, ...(isActive ? styles.songItemActive : {}) }}\n                className=\"song-item-hover\"\n                onClick={() => handlePlaySong(song, true, index)}\n                title={`Play ${song.songTitle}`}\n              >\n                <div style={styles.songContent}>\n                  <img\n                    src={song.coverUrl || getThumbnailUrl(youtubeId, 'default') || '/api/placeholder/50/50'}\n                    alt=\"\"\n                    style={styles.playlistThumbnail}\n                    loading=\"lazy\"\n                    onError={(e) => e.target.src = '/api/placeholder/50/50'}\n                  />\n                   <span className=\"play-icon-playlist\" style={{...styles.playIcon, display: 'block', marginRight: '10px', marginLeft: '5px', fontSize: '1.3em', color: isActive && isPlayerPlaying ? '#1abc9c' : (isActive ? '#34495e' : '#bdc3c7')}}>\n                      {isActive && isPlayerPlaying ? '❚❚' : '▶'}\n                   </span>\n                  <div style={styles.songInfo}>\n                    <h4 style={{...styles.songTitle, color: isActive ? styles.songItemActive.color : styles.songTitle.color}}>{song.songTitle}</h4>\n                    <p style={styles.songArtist}>{song.bandName || 'Unknown Artist'}</p>\n                    {song.albumTitle && <p style={styles.songAlbum} title={`From album: ${song.albumTitle}`}>{song.albumTitle}</p>}\n                  </div>\n                </div>\n                <div style={styles.songActions}>\n                  <button onClick={(e) => { e.stopPropagation(); handleRemoveFromPlaylist(index);}} style={styles.actionIcon} title=\"Remove from Playlist\" className=\"remove-button-hover action-icon-button\">×</button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n\n  // --- Main Return ---\n  return (\n    <div style={{ ...styles.appContainer, paddingBottom: activeYoutubeId && currentSongInfo ? styles.miniPlayer.height : '20px' }}>\n      <div id=\"youtube-player-container\" style={styles.hiddenIframe}></div>\n\n      <div style={styles.mainContent}>\n        <header style={styles.header}>\n          <h1 style={styles.appTitle}>My Favorite Songs</h1>\n          <div style={styles.headerButtons}>\n            <button\n              onClick={() => { setShowPlaylistView(!showPlaylistView); if (!showPlaylistView) setSelectedAlbum(null); }}\n              style={styles.playlistButton}\n              className=\"base-button-class\"\n              title={showPlaylistView ? \"Hide Playlist\" : \"Show My Playlist\"}\n              aria-pressed={showPlaylistView}\n            >\n              <span role=\"img\" aria-label=\"playlist icon\">🎼</span> {showPlaylistView ? \"Albums\" : \"My Playlist\"} {playlist.length > 0 && !showPlaylistView && `(${playlist.length})`}\n            </button>\n            <Link href=\"/login\" style={styles.adminButton} className=\"base-button-class\">\n              <span role=\"img\" aria-label=\"lock icon\">🔐</span> Admin\n            </Link>\n          </div>\n        </header>\n\n        {error && (<div style={styles.errorBox}>\n            <p>\n                <span role=\"img\" aria-label=\"warning sign\" style={{ marginRight: '8px' }}>⚠️</span>\n                <strong>Error:</strong> {error}\n            </p>\n            <button onClick={() => setError(null)} style={styles.errorDismiss} title=\"Dismiss Error\">✕</button>\n        </div>)}\n\n        <main>\n            {showPlaylistView ? renderPersonalPlaylist() : (\n              selectedAlbum ? renderAlbumSongs() : renderAlbumList()\n            )}\n        </main>\n      </div>\n\n     \n\n      {activeYoutubeId && currentSongInfo && (\n  <div style={styles.miniPlayer} role=\"region\" aria-label=\"Music Player Controls\">\n    <img\n      src={currentSongInfo.coverUrl || getThumbnailUrl(activeYoutubeId, 'default') || '/api/placeholder/60/60'}\n      alt={`${currentSongInfo.songTitle} cover`}\n      style={styles.miniPlayerThumbnail}\n      onError={(e) => e.target.src = '/api/placeholder/60/60'}\n    />\n    <div style={styles.miniPlayerInfo}>\n      <div style={styles.miniPlayerTitle} title={currentSongInfo.songTitle}>{currentSongInfo.songTitle}</div>\n      <div style={styles.miniPlayerArtist} title={currentSongInfo.bandName}>{currentSongInfo.bandName}</div>\n    </div>\n    <div style={styles.miniPlayerControls}>\n      {/* Previous Button */}\n      {(isPlayingFromPlaylist && playlist.length > 1) || (!isPlayingFromPlaylist && selectedAlbum && albumSongs && albumSongs.length > 1) ? (\n        <button\n          onClick={isPlayingFromPlaylist ? handlePlayPrevious : handlePlayPreviousInAlbum}\n          style={styles.miniPlayerButton}\n          className=\"mini-player-button-hover\"\n          title=\"Previous\"\n        >\n          <span role=\"img\" aria-label=\"Previous Track\">⏮️</span>\n        </button>\n      ) : (\n        <button style={{...styles.miniPlayerButton, opacity: 0.5, cursor: 'not-allowed'}} title=\"Previous (Unavailable)\" disabled>⏮️</button>\n      )}\n\n      {/* Play/Pause Button */}\n      <button onClick={handleTogglePlayPause} style={styles.miniPlayerButton} className=\"mini-player-button-hover\" title={isPlayerPlaying ? \"Pause\" : \"Play\"}>\n        <span role=\"img\" aria-label={isPlayerPlaying ? \"Pause\" : \"Play\"}>{isPlayerPlaying ? '❚❚' : '▶️'}</span>\n      </button>\n\n      {/* Next Button */}\n      {(isPlayingFromPlaylist && playlist.length > 1) || (!isPlayingFromPlaylist && selectedAlbum && albumSongs && albumSongs.length > 1) ? (\n        <button\n          onClick={isPlayingFromPlaylist ? handlePlayNext : handlePlayNextInAlbum}\n          style={styles.miniPlayerButton}\n          className=\"mini-player-button-hover\"\n          title=\"Next\"\n        >\n          <span role=\"img\" aria-label=\"Next Track\">⏭️</span>\n        </button>\n      ) : (\n        <button style={{...styles.miniPlayerButton, opacity: 0.5, cursor: 'not-allowed'}} title=\"Next (Unavailable)\" disabled>⏭️</button>\n      )}\n\n      {/* Close Button */}\n      <button onClick={handleClosePlayer} style={{ ...styles.miniPlayerButton, ...styles.miniPlayerStopButton }} className=\"mini-player-button-hover\" title=\"Stop and Close Player\">\n        <span role=\"img\" aria-label=\"Stop\">⏹️</span>\n      </button>\n    </div>\n  </div>\n)}\n\n      {/* Global styles using style jsx */}\n      <style jsx global>{`\n        .album-card-hover:hover {\n          transform: translateY(-4px);\n          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);\n        }\n        .song-item-hover:hover {\n          background-color: #f8f9fa; /* Light grey hover for song items */\n        }\n        .song-item-hover:hover .track-number-display {\n          display: none; /* Hide track number on hover */\n        }\n        .song-item-hover:hover .play-icon {\n          display: inline-block !important; /* Show play icon on hover, use important if needed */\n        }\n        .action-icon-button:hover { /* General hover for action icons like add/remove/close playlist */\n           filter: brightness(0.8);\n        }\n        .add-button-hover:hover {\n           color: #27ae60 !important; \n           background-color: rgba(39, 174, 96, 0.1) !important;\n        }\n        .remove-button-hover:hover {\n           color: #e74c3c !important; \n           background-color: rgba(231, 76, 60, 0.1) !important;\n        }\n        .base-button-class:hover:not(:disabled) {\n            filter: brightness(1.1);\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n        .base-button-class:active:not(:disabled) {\n            transform: translateY(0px);\n            filter: brightness(0.95);\n        }\n        .mini-player-button-hover:hover:not(:disabled) {\n            background-color: rgba(0, 0, 0, 0.06);\n        }\n        .mini-player-button-hover:disabled {\n            opacity: 0.5;\n            cursor: default;\n            background-color: transparent;\n        }\n\n        @keyframes dotFlashing {\n          0% { opacity: 0.2; }\n          50% { opacity: 1; }\n          100% { opacity: 0.2; }\n        }\n        .dotFlashing {\n          position: relative;\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background-color: #7f8c8d;\n          color: #7f8c8d;\n          animation: dotFlashing 1.4s infinite linear;\n          animation-delay: 0.35s;\n          margin-left: 5px; /* Added margin */\n        }\n        .dotFlashing::before, .dotFlashing::after {\n          content: '';\n          display: inline-block;\n          position: absolute;\n          top: 0;\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background-color: #7f8c8d;\n          color: #7f8c8d;\n          animation: dotFlashing 1.4s infinite linear;\n        }\n        .dotFlashing::before {\n          left: -10px;\n          animation-delay: 0s;\n        }\n        .dotFlashing::after {\n          left: 10px;\n          animation-delay: 0.7s;\n        }\n      `}</style>\n    </div>\n  );\n}\n\n// --- Enhanced Styles (Mostly Unchanged, with minor additions for hover classes) ---\nconst styles = {\n  appContainer: {\n    fontFamily: \"'Nunito Sans', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif\",\n    fontWeight: 400,\n    backgroundColor: '#f4f7f9',\n    color: '#333',\n    minHeight: '100vh',\n    position: 'relative',\n    transition: 'padding-bottom 0.3s ease',\n  },\n  mainContent: {\n    maxWidth: '1100px',\n    margin: '0 auto',\n    padding: '25px 20px',\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '30px',\n    paddingBottom: '20px',\n    borderBottom: '1px solid #e1e5e8',\n  },\n  appTitle: {\n    fontSize: '2rem',\n    fontWeight: 700,\n    margin: 0,\n    color: '#2c3e50',\n    letterSpacing: '-0.5px',\n  },\n  headerButtons: {\n    display: 'flex',\n    gap: '15px',\n  },\n  baseButton: { \n      padding: '10px 18px', border: 'none', borderRadius: '6px', \n      cursor: 'pointer', fontSize: '0.95em', fontWeight: 600, \n      transition: 'background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease',\n      display: 'inline-flex', alignItems: 'center', gap: '6px', \n      textDecoration: 'none', lineHeight: '1.2',\n      // Hover/active/disabled will be handled by .base-button-class in <style jsx global>\n  },\n  adminButton: {\n      // ...styles.baseButton, // Spread baseButton if needed, or rely on className\n      backgroundColor: '#34495e', color: 'white',\n      padding: '10px 18px', border: 'none', borderRadius: '6px', cursor: 'pointer', fontSize: '0.95em', fontWeight: 600, transition: 'background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease', display: 'inline-flex', alignItems: 'center', gap: '6px', textDecoration: 'none', lineHeight: '1.2',\n  },\n  playlistButton: {\n      // ...styles.baseButton,\n      backgroundColor: '#1abc9c', color: 'white',\n      padding: '10px 18px', border: 'none', borderRadius: '6px', cursor: 'pointer', fontSize: '0.95em', fontWeight: 600, transition: 'background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease', display: 'inline-flex', alignItems: 'center', gap: '6px', textDecoration: 'none', lineHeight: '1.2',\n\n  },\n  backButton: {\n      // ...styles.baseButton,\n      backgroundColor: '#e9ecef', color: '#495057', marginBottom: '20px',\n      padding: '8px 14px', border: 'none', borderRadius: '6px', cursor: 'pointer', fontSize: '0.9em', fontWeight: 600, transition: 'background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease', display: 'inline-flex', alignItems: 'center', gap: '6px', textDecoration: 'none', lineHeight: '1.2',\n  },\n  playAlbumButton: {\n     // ...styles.baseButton,\n      backgroundColor: '#2ecc71', color: 'white', marginTop: '15px',\n      textTransform: 'uppercase', letterSpacing: '0.5px',\n      padding: '12px 22px', border: 'none', borderRadius: '50px', cursor: 'pointer', fontSize: '1em', fontWeight: 700, transition: 'background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease', display: 'inline-flex', alignItems: 'center', gap: '8px', textDecoration: 'none', lineHeight: '1.2',\n\n  },\n   actionIcon: { \n      background: 'none', border: 'none', color: '#7f8c8d', \n      fontSize: '1.4em', cursor: 'pointer', padding: '5px 8px',\n      borderRadius: '50%', lineHeight: '1',\n      transition: 'color 0.2s ease, background-color 0.2s ease',\n  },\n  errorBox: {\n    backgroundColor: '#fdeded', color: '#b71c1c', border: '1px solid #fcc',\n    borderLeft: '4px solid #e57373', padding: '15px 20px', margin: '20px 0',\n    borderRadius: '6px', display: 'flex', justifyContent: 'space-between',\n    alignItems: 'center', fontSize: '0.95em',\n  },\n  errorDismiss: {\n    background: 'none', border: 'none', fontSize: '1.3em', fontWeight: 'bold',\n    color: '#e57373', cursor: 'pointer', padding: '0 5px',\n  },\n  loadingBox: {\n    display: 'flex', alignItems: 'center', justifyContent: 'center',\n    padding: '50px 20px', color: '#7f8c8d', fontSize: '1.1em', textAlign: 'center',\n  },\n  infoText: {\n    textAlign: 'center', color: '#7f8c8d', padding: '40px 20px', fontSize: '1.1em',\n  },\n  viewTitle: {\n    fontSize: '1.8em', fontWeight: 700, margin: '35px 0 20px 0',\n    color: '#34495e', paddingBottom: '8px', borderBottom: '2px solid #e1e5e8',\n    position: 'relative', paddingLeft: '15px', borderLeft: '5px solid #1abc9c',\n  },\n  albumGrid: {\n    display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))',\n    gap: '25px',\n  },\n  albumCard: {\n    backgroundColor: '#ffffff', borderRadius: '8px', overflow: 'hidden',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n    transition: 'transform 0.25s ease, box-shadow 0.25s ease',\n    cursor: 'pointer', display: 'flex', flexDirection: 'column',\n  },\n  albumCover: {\n    width: '100%', aspectRatio: '1 / 1', objectFit: 'cover',\n    display: 'block', borderBottom: '1px solid #eee',\n  },\n  albumInfo: {\n    padding: '15px', flexGrow: 1, display: 'flex', flexDirection: 'column',\n  },\n  albumTitle: {\n    fontSize: '1.05em', fontWeight: 600, margin: '0 0 5px 0', color: '#34495e',\n    whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis',\n  },\n  albumArtist: {\n    fontSize: '0.9em', color: '#7f8c8d', margin: '0 0 8px 0',\n    whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis',\n  },\n  albumYear: {\n    fontSize: '0.8em', color: '#95a5a6', margin: '0', marginTop: 'auto',\n  },\n  albumDetailHeader: {\n    display: 'flex', alignItems: 'flex-end', gap: '25px', marginBottom: '30px',\n    padding: '20px', backgroundColor: 'rgba(255, 255, 255, 0.6)', borderRadius: '8px',\n  },\n  albumDetailCover: {\n    width: '180px', height: '180px', objectFit: 'cover',\n    borderRadius: '6px', boxShadow: '0 4px 10px rgba(0,0,0,0.15)', flexShrink: 0,\n  },\n  albumDetailInfo: {\n     display: 'flex', flexDirection: 'column', alignItems: 'flex-start', flexGrow: 1,\n  },\n  albumDetailType: {\n    fontSize: '0.75em', fontWeight: 700, color: '#7f8c8d',\n    margin: '0 0 8px 0', textTransform: 'uppercase', letterSpacing: '1px',\n  },\n  albumDetailTitle: {\n    margin: '0 0 8px 0', fontSize: '2.2em', fontWeight: 700,\n    color: '#2c3e50', lineHeight: 1.2,\n  },\n  albumDetailArtist: {\n    margin: '0 0 15px 0', color: '#555', fontSize: '1.1em',\n  },\n  songList: {\n    marginTop: '20px', border: '1px solid #e1e5e8', borderRadius: '6px',\n    overflow: 'hidden', backgroundColor: '#fff',\n  },\n  songItem: {\n    display: 'flex', alignItems: 'center', padding: '10px 15px',\n    borderBottom: '1px solid #f0f2f5', transition: 'background-color 0.2s ease',\n    cursor: 'pointer', // Make the whole item clickable\n  },\n  songItemActive: {\n    backgroundColor: '#e8f5e9', color: '#1b5e20',\n  },\n  trackNumberContainer: {\n     width: '40px', flexShrink: 0, textAlign: 'center',\n     marginRight: '10px', display: 'flex',\n     alignItems: 'center', justifyContent: 'center',\n  },\n  trackNumber: { // Class .track-number-display is used in JSX\n    fontSize: '0.9em', color: '#95a5a6', display: 'inline-block', // Default show\n  },\n  playIcon: { // Will be controlled by .song-item-hover:hover .play-icon via CSS\n    fontSize: '1.1em', color: '#1abc9c', display: 'none', // Default hide\n  },\n  songContent: {\n    flexGrow: 1, display: 'flex', alignItems: 'center',\n    gap: '15px', overflow: 'hidden',\n  },\n  playlistThumbnail: {\n    width: '45px', height: '45px', objectFit: 'cover',\n    borderRadius: '4px', flexShrink: 0,\n  },\n  songInfo: {\n    flexGrow: 1, overflow: 'hidden',\n  },\n  songTitle: {\n    fontSize: '1em', fontWeight: 600, margin: '0 0 2px 0',\n    color: '#34495e', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis',\n  },\n  songArtist: {\n    fontSize: '0.85em', color: '#7f8c8d', margin: 0,\n    whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis',\n  },\n   songAlbum: {\n    fontSize: '0.8em', color: '#95a5a6', margin: '2px 0 0 0',\n    whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis',\n  },\n  songActions: {\n    marginLeft: '15px', flexShrink: 0, display: 'flex', alignItems: 'center',\n  },\n  playlistContainer: {\n    backgroundColor: '#ffffff', borderRadius: '8px', padding: '20px',\n    boxShadow: '0 4px 15px rgba(0, 0, 0, 0.07)',\n  },\n  playlistHeader: {\n    display: 'flex', justifyContent: 'space-between', alignItems: 'center',\n    marginBottom: '10px',\n  },\n  playlistHeaderActions: {\n      display: 'flex', gap: '10px',\n  },\n  playlistActionButton: {\n      // ...styles.baseButton, // Rely on className\n      backgroundColor: '#ecf0f1', color: '#34495e',\n      padding: '8px 12px', border: 'none', borderRadius: '6px', cursor: 'pointer', fontSize: '0.9em', fontWeight: 600, transition: 'background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease', display: 'inline-flex', alignItems: 'center', gap: '6px', textDecoration: 'none', lineHeight: '1.2',\n  },\n  playlistCloseButton: {\n     background: 'none', border: 'none', borderRadius: '50%', cursor: 'pointer',\n     fontSize: '1.5em', fontWeight: 'bold', \n     transition: 'background-color 0.2s ease, color 0.2s ease',\n     display: 'inline-flex', alignItems: 'center', justifyContent: 'center',\n     textDecoration: 'none', lineHeight: '1', padding: '5px',\n     width: '30px', height: '30px', color: '#95a5a6',\n  },\n  emptyPlaylistMessage: {\n    textAlign: 'center', padding: '40px 20px', color: '#7f8c8d',\n    fontSize: '1.1em', display: 'flex', flexDirection: 'column', alignItems: 'center',\n  },\n  hiddenIframe: {\n    position: 'absolute', top: '-9999px', left: '-9999px',\n    width: '1px', height: '1px', opacity: 0, border: 'none', visibility: 'hidden',\n  },\n  miniPlayer: {\n    position: 'fixed', bottom: 0, left: 0, right: 0,\n    height: '75px', backgroundColor: '#ffffff',\n    borderTop: '1px solid #e1e5e8', boxShadow: '0 -3px 12px rgba(0, 0, 0, 0.1)',\n    display: 'flex', alignItems: 'center', padding: '0 15px', zIndex: 1000,\n  },\n  miniPlayerThumbnail: {\n    width: '50px', height: '50px', objectFit: 'cover',\n    borderRadius: '4px', marginRight: '15px', flexShrink: 0,\n  },\n  miniPlayerInfo: {\n    flexGrow: 1, overflow: 'hidden', marginRight: '15px',\n  },\n  miniPlayerTitle: {\n    fontSize: '1em', fontWeight: 600, color: '#34495e',\n    whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', marginBottom: '2px',\n  },\n  miniPlayerArtist: {\n    fontSize: '0.85em', color: '#7f8c8d', whiteSpace: 'nowrap',\n    overflow: 'hidden', textOverflow: 'ellipsis',\n  },\n  miniPlayerControls: {\n    display: 'flex', alignItems: 'center', gap: '5px', flexShrink: 0,\n  },\n  miniPlayerButton: {\n    background: 'none', border: 'none', color: '#34495e',\n    fontSize: '1.6em', cursor: 'pointer', padding: '8px',\n    borderRadius: '50%', lineHeight: 0,\n    transition: 'background-color 0.2s ease, color 0.2s ease',\n    display: 'flex', alignItems: 'center', justifyContent: 'center',\n    // Hover/disabled states will be handled by .mini-player-button-hover in <style jsx global>\n  },\n  miniPlayerStopButton: {\n    color: '#e74c3c', fontSize: '1.4em',\n    // Hover handled by className in global style\n  },\n};"],"names":[],"mappings":"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","debugId":null}}]
}