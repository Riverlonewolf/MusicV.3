{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/User/Documents/Csc350%20pj1/musicv.3/src/app/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useRef } from 'react';\nimport Link from 'next/link';\n// Firebase imports\nimport { initializeApp, getApps, getApp } from 'firebase/app'; // Import getApps and getApp\nimport { getFirestore, collection, getDocs, query, where } from 'firebase/firestore';\n\n// --- Firebase Configuration ---\n// !!! ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Firebase Project ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì !!!\n\n\n// Initialize Firebase (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ initialize ‡∏ã‡πâ‡∏≥)\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst db = getFirestore(app);\n\nexport default function MusicPage() {\n  // --- State ---\n  // Data State\n  const [artists, setArtists] = useState([]);\n  const [albums, setAlbums] = useState([]);\n  const [songs, setSongs] = useState([]);\n  const [selectedArtist, setSelectedArtist] = useState(null);\n  const [selectedAlbum, setSelectedAlbum] = useState(null);\n  const [selectedSong, setSelectedSong] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoading, setIsLoading] = useState(false); // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô false ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô loading ‡∏ï‡∏•‡∏≠‡∏î\n  const [error, setError] = useState(null);\n\n  // Player State\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(80); // Default volume 0-100\n  const [isMuted, setIsMuted] = useState(false);\n  const [repeat, setRepeat] = useState(false); // 'none', 'one', 'all' (‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ boolean ‡πÅ‡∏ó‡∏ô 'none'/'all')\n  const [shuffle, setShuffle] = useState(false);\n\n  // --- Refs ---\n  const youtubePlayerRef = useRef(null);\n  const progressBarRef = useRef(null);\n  const progressInterval = useRef(null);\n\n  // --- Data Fetching Effects ---\n\n  // Fetch Artists on initial load\n  useEffect(() => {\n    const fetchArtists = async () => {\n      setIsLoading(true);\n      setError(null);\n      try {\n        const artistsCollection = collection(db, 'artists');\n        const artistSnapshot = await getDocs(artistsCollection);\n        const artistList = artistSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setArtists(artistList);\n      } catch (err) {\n        console.error(\"Error fetching artists:\", err);\n        setError(\"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡πÑ‡∏î‡πâ\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchArtists();\n  }, []);\n\n  // Fetch Albums when artist is selected\n  useEffect(() => {\n    const fetchAlbums = async () => {\n      if (!selectedArtist) {\n        setAlbums([]); // Clear albums if no artist is selected\n        return;\n      }\n      setIsLoading(true);\n      setError(null);\n      setAlbums([]); // Clear previous albums\n      try {\n        const albumsCollection = collection(db, 'albums');\n        const q = query(albumsCollection, where(\"artistId\", \"==\", selectedArtist.id));\n        const albumSnapshot = await getDocs(q);\n        const albumList = albumSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setAlbums(albumList);\n      } catch (err) {\n        console.error(\"Error fetching albums:\", err);\n        setError(\"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°‡πÑ‡∏î‡πâ\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchAlbums();\n  }, [selectedArtist]);\n\n  // Fetch Songs when album is selected\n  useEffect(() => {\n    const fetchSongs = async () => {\n      if (!selectedAlbum) {\n        setSongs([]); // Clear songs if no album is selected\n        return;\n      }\n      setIsLoading(true);\n      setError(null);\n      setSongs([]); // Clear previous songs\n      try {\n        const songsCollection = collection(db, 'songs');\n        // ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏á‡∏î‡πâ‡∏ß‡∏¢ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ field ‡πÄ‡∏ä‡πà‡∏ô trackNumber)\n        const q = query(songsCollection, where(\"albumId\", \"==\", selectedAlbum.id));\n        const songSnapshot = await getDocs(q);\n        const songList = songSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        // TODO: Sort songList by trackNumber if available\n        setSongs(songList);\n      } catch (err) {\n        console.error(\"Error fetching songs:\", err);\n        setError(\"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏î‡πâ\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchSongs();\n  }, [selectedAlbum]);\n\n  // --- YouTube Player Setup & Control ---\n\n  // Load YouTube API script\n  useEffect(() => {\n    if (typeof window !== 'undefined' && !window.YT) {\n      const tag = document.createElement('script');\n      tag.src = 'https://www.youtube.com/iframe_api';\n      document.body.appendChild(tag); // Append to body instead of head potentially\n\n      window.onYouTubeIframeAPIReady = () => {\n        console.log(\"YouTube API Ready\");\n        // If a song was selected before API loaded, initialize now\n        if (selectedSong && !youtubePlayerRef.current) {\n           initializeYouTubePlayer(selectedSong.youtubeLink);\n        }\n      };\n    } else if (typeof window !== 'undefined' && window.YT && window.YT.Player && selectedSong && !youtubePlayerRef.current) {\n        // API already loaded, initialize if needed\n        initializeYouTubePlayer(selectedSong.youtubeLink);\n    }\n\n    // Cleanup interval on unmount\n    return () => {\n      if (progressInterval.current) {\n        clearInterval(progressInterval.current);\n      }\n      // Optional: Destroy player if component unmounts?\n      // if (youtubePlayerRef.current && youtubePlayerRef.current.destroy) {\n      //   youtubePlayerRef.current.destroy();\n      // }\n    };\n  }, []); // Run only once on mount\n\n  // Initialize or change video when selectedSong changes\n  useEffect(() => {\n    if (selectedSong?.youtubeLink) {\n      const videoId = extractYouTubeId(selectedSong.youtubeLink);\n      if (!videoId) {\n          console.error(\"Invalid YouTube link:\", selectedSong.youtubeLink);\n          setError(\"‡∏•‡∏¥‡∏á‡∏Å‡πå YouTube ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏•‡∏á‡∏ô‡∏µ‡πâ\");\n          return; // Don't proceed if ID is invalid\n      }\n\n      if (youtubePlayerRef.current && youtubePlayerRef.current.loadVideoById) {\n        // Player exists, just load new video\n        console.log(\"Loading video:\", videoId);\n        youtubePlayerRef.current.loadVideoById(videoId);\n        // Assume auto-play, set state accordingly\n        // setIsPlaying(true); // Set in onPlayerStateChange for reliability\n      } else if (typeof window !== 'undefined' && window.YT && window.YT.Player) {\n        // Player doesn't exist yet, but API is ready, initialize\n        console.log(\"Initializing player for video:\", videoId);\n        initializeYouTubePlayer(selectedSong.youtubeLink);\n      }\n      // If API is not ready yet, the onYouTubeIframeAPIReady handler will catch it\n    } else {\n       // No song selected, potentially stop player?\n       if (youtubePlayerRef.current && youtubePlayerRef.current.stopVideo) {\n          youtubePlayerRef.current.stopVideo();\n          setIsPlaying(false);\n          setCurrentTime(0);\n          setDuration(0);\n          if (progressInterval.current) clearInterval(progressInterval.current);\n       }\n    }\n  }, [selectedSong]); // Dependency on selectedSong\n\n\n  const extractYouTubeId = (url) => {\n    if (!url) return null;\n    // Updated regex to handle more URL variations\n    const regExp = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\n    const match = url.match(regExp);\n    return match ? match[1] : null;\n  };\n\n  const initializeYouTubePlayer = (url) => {\n    const videoId = extractYouTubeId(url);\n    if (!videoId) return;\n\n    // Ensure the target div exists\n    if (!document.getElementById('youtube-player-container')) {\n        console.error(\"Target div 'youtube-player-container' not found.\");\n        return;\n    }\n\n    // Destroy existing player if any before creating new one\n    if (youtubePlayerRef.current && youtubePlayerRef.current.destroy) {\n      youtubePlayerRef.current.destroy();\n      youtubePlayerRef.current = null; // Clear ref\n       if (progressInterval.current) clearInterval(progressInterval.current); // Clear old interval\n    }\n\n\n    console.log(`Creating YT Player with videoId: ${videoId}`);\n    try {\n        youtubePlayerRef.current = new window.YT.Player('youtube-player-container', {\n        height: '0',\n        width: '0',\n        videoId: videoId,\n        playerVars: {\n            'playsinline': 1, // Important for mobile\n            'controls': 0,    // Hide YouTube's controls\n            'disablekb': 1,   // Disable keyboard controls\n            'fs': 0,          // Hide fullscreen button\n            'rel': 0,         // Don't show related videos\n            'modestbranding': 1 // Less YouTube branding\n        },\n        events: {\n            'onReady': onPlayerReady,\n            'onStateChange': onPlayerStateChange,\n            'onError': onPlayerError\n        }\n        });\n    } catch (error) {\n       console.error(\"Error creating YouTube Player:\", error);\n       setError(\"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á\");\n    }\n  };\n\n  const onPlayerReady = (event) => {\n    console.log(\"Player Ready\");\n    event.target.setVolume(isMuted ? 0 : volume); // Set initial volume respecting mute state\n    setDuration(event.target.getDuration());\n    event.target.playVideo(); // Start playing automatically\n\n    // Clear previous interval if exists\n    if (progressInterval.current) {\n      clearInterval(progressInterval.current);\n    }\n    // Start interval to update current time\n    progressInterval.current = setInterval(() => {\n      if (youtubePlayerRef.current && youtubePlayerRef.current.getCurrentTime) {\n        const current = youtubePlayerRef.current.getCurrentTime();\n        setCurrentTime(current);\n        // Update duration in case it wasn't available initially or changed\n        const totalDuration = youtubePlayerRef.current.getDuration();\n         if(totalDuration && totalDuration !== duration) {\n            setDuration(totalDuration);\n         }\n      }\n    }, 500); // Update twice per second for smoother progress\n  };\n\n  const onPlayerStateChange = (event) => {\n    console.log(\"Player State Change:\", event.data);\n    if (event.data === window.YT.PlayerState.PLAYING) {\n      setIsPlaying(true);\n      setDuration(youtubePlayerRef.current.getDuration()); // Ensure duration is set\n    } else if (event.data === window.YT.PlayerState.PAUSED) {\n      setIsPlaying(false);\n    } else if (event.data === window.YT.PlayerState.ENDED) {\n      console.log(\"Song Ended. Repeat:\", repeat);\n      if (repeat) {\n        youtubePlayerRef.current.seekTo(0);\n        // No need to call playVideo here if seekTo triggers playing state\n        // youtubePlayerRef.current.playVideo(); // Let's see if seekTo is enough\n      } else {\n        setIsPlaying(false); // Set playing to false before finding next song\n        handleNextSong(); // Play next song (or stop if it's the last and no shuffle/repeat)\n      }\n    } else if (event.data === window.YT.PlayerState.BUFFERING) {\n        // Optional: Show buffering state\n    } else if (event.data === window.YT.PlayerState.CUED) {\n        // Video is cued, ready to play\n    }\n  };\n\n  const onPlayerError = (event) => {\n     console.error(\"YouTube Player Error:\", event.data);\n     setError(`‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô (Code: ${event.data})`);\n     setIsPlaying(false);\n     // Potentially try loading next song or stop\n  };\n\n\n  // --- Player Action Handlers ---\n\n  const handlePlayPause = () => {\n    if (!youtubePlayerRef.current || !selectedSong) return; // Need a song selected\n    if (isPlaying) {\n      youtubePlayerRef.current.pauseVideo();\n    } else {\n      youtubePlayerRef.current.playVideo();\n    }\n    // State will be updated via onPlayerStateChange\n  };\n\n  const getNextSongIndex = (currentIndex) => {\n    if (!songs.length) return -1;\n     if (shuffle) {\n      if (songs.length <= 1) return 0; // Only one song, just return it\n      let randomIndex;\n      do {\n        randomIndex = Math.floor(Math.random() * songs.length);\n      } while (randomIndex === currentIndex); // Ensure it's not the same song\n      return randomIndex;\n    } else {\n      return (currentIndex + 1) % songs.length; // Loop back to start\n    }\n  };\n\n   const getPrevSongIndex = (currentIndex) => {\n    if (!songs.length) return -1;\n     if (shuffle) {\n         // Shuffle previous could just be another random song\n         return getNextSongIndex(currentIndex); // Or implement history? For now, just random.\n    } else {\n      return (currentIndex - 1 + songs.length) % songs.length; // Loop back to end\n    }\n  };\n\n  const handleNextSong = () => {\n    if (!songs.length || !selectedSong) return;\n    const currentIndex = songs.findIndex(song => song.id === selectedSong.id);\n    if (currentIndex === -1) return; // Should not happen\n\n    const nextIndex = getNextSongIndex(currentIndex);\n\n    // Handle case where shuffle is off and we are at the last song without repeat\n    if (!shuffle && !repeat && nextIndex === 0 && currentIndex === songs.length - 1) {\n        console.log(\"End of album, not repeating or shuffling.\");\n        // Stop playing or just stay on the last song paused?\n        // For now, select the first song but don't auto-play (setIsPlaying(false) in ENDED handles this)\n        setSelectedSong(songs[0]);\n        youtubePlayerRef.current?.seekTo(0);\n        youtubePlayerRef.current?.pauseVideo(); // Explicitly pause\n        setCurrentTime(0);\n        setIsPlaying(false);\n\n\n    } else {\n        setSelectedSong(songs[nextIndex]);\n        // Play will start via useEffect -> initialize/loadVideo -> onReady/onStateChange\n    }\n  };\n\n  const handlePrevSong = () => {\n    if (!songs.length || !selectedSong) return;\n    const currentIndex = songs.findIndex(song => song.id === selectedSong.id);\n     if (currentIndex === -1) return;\n\n    // If song is more than ~3 seconds in, restart it instead of going previous\n    if (currentTime > 3) {\n        youtubePlayerRef.current?.seekTo(0);\n        setCurrentTime(0);\n    } else {\n        const prevIndex = getPrevSongIndex(currentIndex);\n        setSelectedSong(songs[prevIndex]);\n         // Play will start via useEffect -> initialize/loadVideo -> onReady/onStateChange\n    }\n  };\n\n  const handleVolumeChange = (event) => {\n    const newVolume = parseInt(event.target.value, 10);\n    if (!youtubePlayerRef.current) return;\n    youtubePlayerRef.current.setVolume(newVolume);\n    setVolume(newVolume);\n    setIsMuted(newVolume === 0); // Mute if volume is 0\n  };\n\n  const handleMute = () => {\n    if (!youtubePlayerRef.current) return;\n    const currentlyMuted = isMuted; // Store current state before changing\n    if (currentlyMuted) {\n      youtubePlayerRef.current.unMute();\n      // Restore volume ONLY if it was muted to 0 by the mute button\n      // If volume was already 0, unmuting might set it based on YT player logic\n      // Let's explicitly set it back to the last known non-zero volume or a default\n      const restoreVolume = volume > 0 ? volume : 50; // Restore previous or default to 50\n      youtubePlayerRef.current.setVolume(restoreVolume);\n      setVolume(restoreVolume);\n      setIsMuted(false);\n    } else {\n      youtubePlayerRef.current.mute();\n      // We don't necessarily change the volume state here, just the mute state\n      setIsMuted(true);\n    }\n  };\n\n\n  const handleSeek = (e) => {\n    if (!youtubePlayerRef.current || !duration || duration <= 0 || !progressBarRef.current) return;\n\n    const progressBar = progressBarRef.current;\n    const rect = progressBar.getBoundingClientRect();\n    // Calculate click position relative to the progress bar width\n    const clickX = e.clientX - rect.left;\n    const barWidth = rect.width;\n    // Ensure position is within bounds [0, 1]\n    const position = Math.max(0, Math.min(1, clickX / barWidth));\n\n    const seekTime = position * duration;\n\n    youtubePlayerRef.current.seekTo(seekTime, true); // true allows seeking ahead\n    setCurrentTime(seekTime); // Immediately update UI time\n     // If paused, seeking should likely keep it paused\n     // If playing, seeking should keep it playing (YouTube API usually handles this)\n  };\n\n  const toggleRepeat = () => {\n    setRepeat(!repeat);\n  };\n\n  const toggleShuffle = () => {\n    setShuffle(!shuffle);\n  };\n\n  // --- UI Navigation Handlers ---\n  const handleArtistSelect = (artist) => {\n    setSelectedArtist(artist);\n    setSelectedAlbum(null); // Reset album when new artist selected\n    // Don't reset song yet, player might still be playing from previous context\n    // setSongs([]); // songs will be cleared by the fetchSongs effect\n  };\n\n  const handleAlbumSelect = (album) => {\n    setSelectedAlbum(album);\n    // Don't reset song yet\n    // setSongs([]); // songs will be cleared by the fetchSongs effect\n  };\n\n  const handleSongSelect = (song) => {\n    // If clicking the currently playing song, toggle play/pause\n     if (selectedSong && selectedSong.id === song.id) {\n         handlePlayPause();\n     } else {\n         setSelectedSong(song);\n         // Player will auto-update via useEffect [selectedSong]\n         // Find the album for this song if navigating directly (e.g., from search results later)\n         if (!selectedAlbum || song.albumId !== selectedAlbum.id) {\n             // Find and set the album associated with this song\n             // This logic might need adjustment depending on full app structure\n             // For now, assume we are already in an album context when selecting a song\n         }\n     }\n  };\n\n  const handleBackToArtists = () => {\n    setSelectedArtist(null);\n    setSelectedAlbum(null);\n    // Keep playing current song? Or stop? Let's keep playing for now.\n    // setSelectedSong(null);\n    setAlbums([]);\n    setSongs([]);\n  };\n\n  const handleBackToAlbums = () => {\n    // This button is shown inside the song details view, implies going back to the album list of the current artist\n    setSelectedAlbum(null); // Go back to album list view\n    // Keep playing current song\n    // setSelectedSong(null); // Keep song selected for the player bar\n    setSongs([]); // Clear the song list displayed (will be fetched again if album selected)\n\n  };\n\n\n  // --- Utility Functions ---\n  const handleSearch = (e) => {\n    setSearchTerm(e.target.value);\n    // Implement actual search logic here if needed beyond simple artist filter\n    // This might involve searching songs, albums too across all artists\n  };\n\n  const formatTime = (seconds) => {\n    if (isNaN(seconds) || seconds < 0) return \"0:00\";\n    const totalSeconds = Math.floor(seconds);\n    const mins = Math.floor(totalSeconds / 60);\n    const secs = totalSeconds % 60;\n    return `${mins}:${secs < 10 ? '0' + secs : secs}`;\n  };\n\n  const calculateProgress = () => {\n    if (!duration || duration <= 0 || !currentTime) return 0;\n    return (currentTime / duration) * 100;\n  };\n\n  // --- Rendering Logic ---\n\n   // View: Display list of Songs in the selected Album\n  const renderSongList = () => (\n    <div style={styles.viewContainer}>\n      <button onClick={handleBackToAlbums} style={styles.backButton}>\n        ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏° ({selectedArtist?.name})\n      </button>\n      {selectedAlbum && (\n        <div style={styles.albumHeader}>\n           <img\n             src={selectedAlbum.coverUrl || \"/api/placeholder/150/150\"}\n             alt={selectedAlbum.title}\n             style={styles.albumHeaderImage}\n           />\n           <div style={styles.albumHeaderInfo}>\n            <p style={styles.albumHeaderType}>‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°</p>\n            <h1 style={styles.albumHeaderTitle}>{selectedAlbum.title}</h1>\n            <p style={styles.albumHeaderMeta}>\n                {selectedArtist?.name} ‚Ä¢ {selectedAlbum.releaseYear} ‚Ä¢ {songs.length} ‡πÄ‡∏û‡∏•‡∏á\n            </p>\n           </div>\n        </div>\n      )}\n\n      {isLoading ? (\n        <div style={styles.loadingContainer}>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏•‡∏á...</div>\n      ) : error ? (\n        <div style={styles.errorContainer}>{error}</div>\n      ) : (\n        <ul style={styles.songList}>\n          {songs.map((song, index) => (\n            <li\n              key={song.id}\n              style={{\n                ...styles.songItem,\n                backgroundColor: selectedSong?.id === song.id ? 'rgba(255, 255, 255, 0.1)' : 'transparent',\n                color: selectedSong?.id === song.id ? styles.spotifyGreen.color : styles.textLight.color\n              }}\n              onClick={() => handleSongSelect(song)}\n              onDoubleClick={() => handleSongSelect(song)} // Double click to play is common\n            >\n              <div style={styles.songItemTrack}>\n                 {/* Show play icon if this song is playing, else track number */}\n                 {selectedSong?.id === song.id && isPlaying ? (\n                    <svg height=\"16\" role=\"img\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\" style={{ color: styles.spotifyGreen.color }}><path d=\"M15.724 4.068a.7.7 0 00-.988-.165l-6.338 4.116L2.554 4.116a.7.7 0 00-.988.165.696.696 0 00.165.988l6.972 4.516a.7.7 0 00.646 0l6.972-4.516a.696.696 0 00.165-.988z\"></path></svg>\n                 ) : (\n                    <span style={{ color: selectedSong?.id === song.id ? styles.spotifyGreen.color : styles.textMuted.color }}>{index + 1}</span>\n                 )}\n              </div>\n              <div style={styles.songItemDetails}>\n                <div style={styles.songItemTitle}>{song.title}</div>\n                <div style={styles.songItemArtistLight}>{selectedArtist?.name}</div>\n              </div>\n              <div style={styles.songItemDuration}>{formatTime(song.duration || 0)}</div> {/* Use song.duration from Firestore */}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n\n  // View: Display list of Albums for the selected Artist\n  const renderAlbums = () => (\n    <div style={styles.viewContainer}>\n      <button onClick={handleBackToArtists} style={styles.backButton}>\n        ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô\n      </button>\n      <h2 style={styles.viewTitle}>‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°‡∏Ç‡∏≠‡∏á {selectedArtist?.name}</h2>\n\n      {isLoading ? (\n        <div style={styles.loadingContainer}>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°...</div>\n      ) : error ? (\n        <div style={styles.errorContainer}>{error}</div>\n      ) : (\n        <div style={styles.gridContainer}>\n          {albums.map((album) => (\n            <div key={album.id} style={styles.card} onClick={() => handleAlbumSelect(album)}>\n              <div style={styles.cardImageContainer}>\n                <img\n                  src={album.coverUrl || \"/api/placeholder/200/200\"}\n                  alt={album.title}\n                  style={styles.cardImage}\n                />\n                 <button style={styles.cardPlayButton} aria-label={`Play ${album.title}`}>\n                    <svg role=\"img\" height=\"24\" width=\"24\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7.05 3.606l13.49 7.788a.7.7 0 010 1.212L7.05 20.394A.7.7 0 016 19.788V4.212a.7.7 0 011.05-.606z\"></path></svg>\n                 </button>\n              </div>\n              <div style={styles.cardInfo}>\n                <h3 style={styles.cardTitle}>{album.title}</h3>\n                <p style={styles.cardSubtitle}>{album.releaseYear} ‚Ä¢ ‡∏≠‡∏±‡∏•‡∏ö‡∏±‡πâ‡∏°</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n\n   // View: Display list of Artists (Home page)\n  const renderHome = () => {\n    const filteredArtists = artists.filter(artist =>\n      artist.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    return (\n      <div style={styles.viewContainer}>\n        <div style={styles.header}>\n           {/* Search Bar */}\n           <div style={styles.searchContainer}>\n            <span style={styles.searchIcon}>\n              <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M7 1.75a5.25 5.25 0 100 10.5A5.25 5.25 0 007 1.75zM0 7a7 7 0 1112.898 4.102l3.429 3.43a.75.75 0 11-1.06 1.06l-3.43-3.429A7 7 0 010 7z\"></path></svg>\n            </span>\n            <input\n                type=\"text\"\n                placeholder=\"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô\"\n                style={styles.searchInput}\n                value={searchTerm}\n                onChange={handleSearch}\n            />\n            </div>\n             <Link href=\"/login\" style={styles.adminLink}>Admin</Link>\n        </div>\n\n\n        <h2 style={styles.viewTitle}>‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô</h2>\n\n        {isLoading && !artists.length ? ( // Show loading only if artists are not yet loaded\n          <div style={styles.loadingContainer}>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô...</div>\n        ) : error ? (\n          <div style={styles.errorContainer}>{error}</div>\n        ) : (\n          <div style={styles.gridContainer}>\n            {filteredArtists.length > 0 ? filteredArtists.map((artist) => (\n              <div key={artist.id} style={styles.card} onClick={() => handleArtistSelect(artist)}>\n                <div style={styles.cardImageContainer}>\n                  <img\n                    src={artist.imageUrl || \"/api/placeholder/200/200?text=Artist\"}\n                    alt={artist.name}\n                    style={{...styles.cardImage, borderRadius: '50%'}} // Artist images often circular\n                  />\n                   <button style={styles.cardPlayButton} aria-label={`View ${artist.name}`}>\n                      {/* Change icon or remove if click just navigates */}\n                      <svg role=\"img\" height=\"24\" width=\"24\" aria-hidden=\"true\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7.05 3.606l13.49 7.788a.7.7 0 010 1.212L7.05 20.394A.7.7 0 016 19.788V4.212a.7.7 0 011.05-.606z\"></path></svg>\n                   </button>\n                </div>\n                <div style={styles.cardInfo}>\n                  <h3 style={styles.cardTitle}>{artist.name}</h3>\n                  <p style={styles.cardSubtitle}>‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô</p>\n                </div>\n              </div>\n            )) : (\n                <p style={styles.textMuted}>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n\n  // --- Main Component Return ---\n  return (\n    // Main container with padding for the fixed player bar\n    <div style={{...styles.appContainer, paddingBottom: styles.playerBar.height }}>\n        {/* Hidden YouTube Player Div */}\n        <div id=\"youtube-player-container\" style={{ position: 'absolute', top: '-9999px', left: '-9999px' }}></div>\n\n        {/* Main Content Area */}\n        <main style={styles.mainContent}>\n            {selectedAlbum ? renderSongList() : selectedArtist ? renderAlbums() : renderHome()}\n        </main>\n\n        {/* --- Player Bar --- */}\n        {selectedSong && ( // Only show player bar if a song has been selected\n             <footer style={styles.playerBar}>\n                {/* 1. Now Playing Section */}\n                <div style={styles.nowPlayingContainer}>\n                {selectedSong && selectedAlbum && selectedArtist && ( // Check if all data is available\n                    <>\n                    <img\n                        src={selectedAlbum.coverUrl || \"/api/placeholder/56/56\"}\n                        alt={selectedAlbum.title}\n                        style={styles.nowPlayingCover}\n                    />\n                    <div style={styles.nowPlayingInfo}>\n                        <div style={styles.nowPlayingTitle}>{selectedSong.title}</div>\n                        <div style={styles.nowPlayingArtist}>{selectedArtist.name}</div>\n                    </div>\n                    {/* Optional: Like button */}\n                    {/* <button style={styles.iconButton} aria-label=\"Like\">ü§ç</button> */}\n                    </>\n                )}\n                </div>\n\n                {/* 2. Player Controls & Progress */}\n                <div style={styles.playerControlsCenter}>\n                    {/* Top row: Buttons */}\n                    <div style={styles.playerButtons}>\n                        <button\n                            style={{...styles.iconButton, color: shuffle ? styles.spotifyGreen.color : 'currentColor'}}\n                            onClick={toggleShuffle}\n                            aria-label=\"Shuffle\"\n                        >\n                             <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M13.151.922a.75.75 0 10-1.06 1.06L13 2.939l-1.03-1.03a.75.75 0 00-1.06 1.06l1.03 1.03L9.93 6.01a.75.75 0 000 1.06l4.061 4.061a.75.75 0 001.06 0l1.031-1.03v1.469a.75.75 0 101.5 0V7.5a.75.75 0 00-.75-.75h-4.061a.75.75 0 100 1.5h1.47l-1.03 1.03a.75.75 0 000 1.06l1.03 1.03-1.98 1.98a.75.75 0 101.06 1.06l1.98-1.98 1.03 1.03a.75.75 0 001.06 0l1.03-1.03 1.061 1.06a.75.75 0 101.06-1.06L16.061 13l1.03 1.03a.75.75 0 101.06-1.06l-1.03-1.03 1.98-1.98a.75.75 0 000-1.06L16.061 6.94l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L13.02.94a.75.75 0 00-.75-.75H7.5a.75.75 0 000 1.5h4.061l-1.03 1.03a.75.75 0 000 1.06L13.51 6.85l-1.03 1.03a.75.75 0 101.06 1.06l1.03-1.03L16.55 9.93a.75.75 0 001.06 0l1.03-1.03 1.47 1.47a.75.75 0 101.06-1.06l-1.47-1.47 1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L14.21 3.01a.75.75 0 00-1.06 0l-1.03 1.03L9.061 1.98a.75.75 0 10-1.06 1.06l1.03 1.03L6.97 6.13a.75.75 0 101.06 1.06l2.06-2.06 1.03 1.03a.75.75 0 001.06 0l1.03-1.03 1.98-1.98zM.922 13.151a.75.75 0 101.06-1.06L.939 13l1.03-1.03a.75.75 0 00-1.06-1.06L.94 11.97l2.04-2.04A.75.75 0 003 9.938V7.5a.75.75 0 00-1.5 0v4.061a.75.75 0 101.5 0V10.09l-1.03 1.03a.75.75 0 000 1.06L3.949 14.24l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L.918 11.12a.75.75 0 00-1.06 0l-1.03 1.03L.298 13a.75.75 0 101.06 1.06l1.06-1.06L3.44 14.03a.75.75 0 101.06-1.06L2.44 11.91l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L-.56 8.89a.75.75 0 10-1.06 1.06l2.06 2.06L.47 13.04a.75.75 0 000 1.06l1.03 1.03H.75a.75.75 0 100 1.5h4.061a.75.75 0 00.75-.75.75.75 0 00-.059-.288l-2.06-2.06a.75.75 0 00-1.06 0z\"></path></svg>\n                        </button>\n                        <button style={styles.iconButton} onClick={handlePrevSong} aria-label=\"Previous\">\n                            <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M13.151.922a.75.75 0 10-1.06 1.06L13 2.939l-1.03-1.03a.75.75 0 00-1.06 1.06l1.03 1.03L9.93 6.01a.75.75 0 000 1.06l4.061 4.061a.75.75 0 001.06 0l1.031-1.03v1.469a.75.75 0 101.5 0V7.5a.75.75 0 00-.75-.75h-4.061a.75.75 0 100 1.5h1.47l-1.03 1.03a.75.75 0 000 1.06l1.03 1.03-1.98 1.98a.75.75 0 101.06 1.06l1.98-1.98 1.03 1.03a.75.75 0 001.06 0l1.03-1.03 1.061 1.06a.75.75 0 101.06-1.06L16.061 13l1.03 1.03a.75.75 0 101.06-1.06l-1.03-1.03 1.98-1.98a.75.75 0 000-1.06L16.061 6.94l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L13.02.94a.75.75 0 00-.75-.75H7.5a.75.75 0 000 1.5h4.061l-1.03 1.03a.75.75 0 000 1.06L13.51 6.85l-1.03 1.03a.75.75 0 101.06 1.06l1.03-1.03L16.55 9.93a.75.75 0 001.06 0l1.03-1.03 1.47 1.47a.75.75 0 101.06-1.06l-1.47-1.47 1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L14.21 3.01a.75.75 0 00-1.06 0l-1.03 1.03L9.061 1.98a.75.75 0 10-1.06 1.06l1.03 1.03L6.97 6.13a.75.75 0 101.06 1.06l2.06-2.06 1.03 1.03a.75.75 0 001.06 0l1.03-1.03 1.98-1.98zM.922 13.151a.75.75 0 101.06-1.06L.939 13l1.03-1.03a.75.75 0 00-1.06-1.06L.94 11.97l2.04-2.04A.75.75 0 003 9.938V7.5a.75.75 0 00-1.5 0v4.061a.75.75 0 101.5 0V10.09l-1.03 1.03a.75.75 0 000 1.06L3.949 14.24l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L.918 11.12a.75.75 0 00-1.06 0l-1.03 1.03L.298 13a.75.75 0 101.06 1.06l1.06-1.06L3.44 14.03a.75.75 0 101.06-1.06L2.44 11.91l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L-.56 8.89a.75.75 0 10-1.06 1.06l2.06 2.06L.47 13.04a.75.75 0 000 1.06l1.03 1.03H.75a.75.75 0 100 1.5h4.061a.75.75 0 00.75-.75.75.75 0 00-.059-.288l-2.06-2.06a.75.75 0 00-1.06 0z\"></path></svg>\n                        </button>\n                        <button\n                            style={styles.playPauseButton}\n                            onClick={handlePlayPause}\n                            aria-label={isPlaying ? \"Pause\" : \"Play\"}\n                        >\n                            {isPlaying ? (\n                                <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z\"></path></svg>\n                            ) : (\n                                <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z\"></path></svg>\n                            )}\n                        </button>\n                        <button style={styles.iconButton} onClick={handleNextSong} aria-label=\"Next\">\n                             <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M11.914 1.01a.75.75 0 01.628.376l2.34 4.052a.75.75 0 01-.629 1.126H9.931a.75.75 0 010-1.5h1.47L10.37 3.01a.75.75 0 011.544-.88zm-1.51 1.712L6.344 8.89a.75.75 0 010 .88L9.4 13.93a.75.75 0 01-1.289.75L4.051 8.44a.75.75 0 010-.88l4.06-7.031a.75.75 0 011.289.75zM3.75 1a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM4.06 1.98a.75.75 0 00-1.06 0L.939 4.04a.75.75 0 000 1.06l2.06 2.061a.75.75 0 001.06-1.06L2.998 5.07l1.03-1.03a.75.75 0 000-1.06L2.44 1.98H3.75a.75.75 0 000-1.5H1.5a.75.75 0 00-.75.75v2.25a.75.75 0 001.5 0V.969l1.061 1.06a.75.75 0 001.06 0z\"></path></svg>\n                        </button>\n                        <button\n                            style={{...styles.iconButton, color: repeat ? styles.spotifyGreen.color : 'currentColor'}}\n                            onClick={toggleRepeat}\n                            aria-label=\"Repeat\"\n                        >\n                            <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M13.151.922a.75.75 0 10-1.06 1.06L13 2.939l-1.03-1.03a.75.75 0 00-1.06 1.06l1.03 1.03L9.93 6.01a.75.75 0 000 1.06l4.061 4.061a.75.75 0 001.06 0l1.031-1.03v1.469a.75.75 0 101.5 0V7.5a.75.75 0 00-.75-.75h-4.061a.75.75 0 100 1.5h1.47l-1.03 1.03a.75.75 0 000 1.06l1.03 1.03-1.98 1.98a.75.75 0 101.06 1.06l1.98-1.98 1.03 1.03a.75.75 0 001.06 0l1.03-1.03 1.061 1.06a.75.75 0 101.06-1.06L16.061 13l1.03 1.03a.75.75 0 101.06-1.06l-1.03-1.03 1.98-1.98a.75.75 0 000-1.06L16.061 6.94l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L13.02.94a.75.75 0 00-.75-.75H7.5a.75.75 0 000 1.5h4.061l-1.03 1.03a.75.75 0 000 1.06L13.51 6.85l-1.03 1.03a.75.75 0 101.06 1.06l1.03-1.03L16.55 9.93a.75.75 0 001.06 0l1.03-1.03 1.47 1.47a.75.75 0 101.06-1.06l-1.47-1.47 1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L14.21 3.01a.75.75 0 00-1.06 0l-1.03 1.03L9.061 1.98a.75.75 0 10-1.06 1.06l1.03 1.03L6.97 6.13a.75.75 0 101.06 1.06l2.06-2.06 1.03 1.03a.75.75 0 001.06 0l1.03-1.03 1.98-1.98zM.922 13.151a.75.75 0 101.06-1.06L.939 13l1.03-1.03a.75.75 0 00-1.06-1.06L.94 11.97l2.04-2.04A.75.75 0 003 9.938V7.5a.75.75 0 00-1.5 0v4.061a.75.75 0 101.5 0V10.09l-1.03 1.03a.75.75 0 000 1.06L3.949 14.24l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L.918 11.12a.75.75 0 00-1.06 0l-1.03 1.03L.298 13a.75.75 0 101.06 1.06l1.06-1.06L3.44 14.03a.75.75 0 101.06-1.06L2.44 11.91l1.03-1.03a.75.75 0 10-1.06-1.06l-1.03 1.03L-.56 8.89a.75.75 0 10-1.06 1.06l2.06 2.06L.47 13.04a.75.75 0 000 1.06l1.03 1.03H.75a.75.75 0 100 1.5h4.061a.75.75 0 00.75-.75.75.75 0 00-.059-.288l-2.06-2.06a.75.75 0 00-1.06 0z\"></path></svg>\n                        </button>\n                    </div>\n                    {/* Bottom row: Progress Bar */}\n                    <div style={styles.progressBarContainer}>\n                        <span style={styles.timeLabel}>{formatTime(currentTime)}</span>\n                        <div\n                            style={styles.progressBarWrapper}\n                            ref={progressBarRef}\n                            onClick={handleSeek}\n                        >\n                            <div style={styles.progressBarBackground}></div>\n                            <div\n                                style={{\n                                ...styles.progressBarForeground,\n                                width: `${calculateProgress()}%`\n                                }}\n                            ></div>\n                            <button\n                                style={{\n                                ...styles.progressBarHandle,\n                                left: `calc(${calculateProgress()}% - 6px)`, // Adjust handle position slightly\n                                opacity: 1 // Always visible when playing\n                                }}\n                                aria-label=\"Seek progress\"\n                            ></button>\n                        </div>\n                        <span style={styles.timeLabel}>{formatTime(duration)}</span>\n                    </div>\n                </div>\n\n                {/* 3. Volume & Other Controls */}\n                <div style={styles.playerControlsRight}>\n                    <button\n                        style={styles.iconButton}\n                        onClick={handleMute}\n                        aria-label={isMuted ? \"Unmute\" : \"Mute\"}\n                    >\n                        {isMuted || volume === 0 ? (\n                           <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M13.86 5.47a.75.75 0 00-1.061 0l-1.47 1.47-1.47-1.47A.75.75 0 008.8 6.53L10.269 8l-1.47 1.47a.75.75 0 101.06 1.06l1.47-1.47 1.47 1.47a.75.75 0 101.06-1.06L12.39 8l1.47-1.47a.75.75 0 000-1.06z\"></path><path d=\"M10.116 1.5A.75.75 0 008.991.85l-6.925 4a3.64 3.64 0 00-1.33 3.018v2.865a3.64 3.64 0 001.33 3.018l6.925 4a.75.75 0 001.125-.649v-1.906a4.73 4.73 0 01-1.5-.694v1.3L2.817 12.85a2.141 2.141 0 01-.781-1.765v-2.865a2.141 2.141 0 01.781-1.765L9.24 2.456v1.358a4.73 4.73 0 011.5-.694V1.5z\"></path></svg>\n                        ) : (\n                           <svg role=\"img\" height=\"16\" width=\"16\" aria-hidden=\"true\" viewBox=\"0 0 16 16\" fill=\"currentColor\"><path d=\"M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.64 3.64 0 01-1.33-3.018V8.018a3.64 3.64 0 011.33-3.018l6.925-4a.75.75 0 01.75 0zm-6.918 4.14a2.14 2.14 0 00-.781 1.578v2.865a2.14 2.14 0 00.781 1.578l6.918 3.98V1.01L2.823 4.99zM11.25 8a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zm-1.5 0a2.25 2.25 0 10-4.5 0 2.25 2.25 0 004.5 0z\"></path></svg>\n                        )}\n                    </button>\n                    <input\n                        type=\"range\"\n                        min=\"0\"\n                        max=\"100\"\n                        value={isMuted ? 0 : volume} // Show 0 if muted\n                        onChange={handleVolumeChange}\n                        style={styles.volumeSlider}\n                        aria-label=\"Volume\"\n                    />\n                    {/* Add other controls like Queue, Lyrics etc. here if needed */}\n                </div>\n            </footer>\n        )}\n    </div>\n  );\n}\n\n\n// --- Styles --- (Inspired by Spotify/Tidal Dark Theme)\n// Note: This is extensive inline styling. Consider CSS Modules or Tailwind for better maintainability.\nconst styles = {\n  // Colors\n  backgroundPrimary: { backgroundColor: '#000000' },\n  backgroundSecondary: { backgroundColor: '#121212' },\n  backgroundTertiary: { backgroundColor: '#242424' },\n  backgroundPress: { backgroundColor: '#2a2a2a' },\n  textPrimary: { color: '#FFFFFF' },\n  textLight: { color: '#FFFFFF' }, // Alias for primary text\n  textSecondary: { color: '#b3b3b3' },\n  textMuted: { color: '#a7a7a7' }, // Slightly different gray\n  spotifyGreen: { color: '#1DB954' }, // Or Tidal's blue/accent color\n  buttonActive: { color: '#1DB954'},\n\n  // Layout Containers\n  appContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    minHeight: '100vh',\n    backgroundColor: '#000000', // Base background\n    color: '#FFFFFF',\n  },\n  mainContent: {\n    flexGrow: 1,\n    overflowY: 'auto', // Allow content scrolling\n    backgroundColor: '#121212', // Main view background\n    padding: '24px',\n     paddingBottom: '50px', // Extra space above player bar\n  },\n  viewContainer: {\n    padding: '16px',\n  },\n  loadingContainer: {\n    textAlign: 'center',\n    padding: '40px',\n    color: '#b3b3b3',\n  },\n  errorContainer: {\n    textAlign: 'center',\n    padding: '40px',\n    color: '#f44336', // Red for errors\n    backgroundColor: 'rgba(244, 67, 54, 0.1)',\n    border: '1px solid rgba(244, 67, 54, 0.5)',\n    borderRadius: '4px',\n  },\n  header: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: '24px',\n    padding: '0 16px', // Padding for header elements\n  },\n  adminLink: {\n    color: '#b3b3b3',\n    textDecoration: 'none',\n    fontSize: '14px',\n    padding: '8px 12px',\n    borderRadius: '4px',\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n    transition: 'background-color 0.2s ease',\n     '&:hover': { // Need library like styled-components for pseudo-classes\n        backgroundColor: 'rgba(255, 255, 255, 0.2)',\n     }\n  },\n\n\n  // Search Bar\n  searchContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    backgroundColor: '#2a2a2a',\n    borderRadius: '50px', // Rounded search bar\n    padding: '8px 16px',\n    flexGrow: 1, // Allow search to take available space\n    maxWidth: '400px', // Limit max width\n  },\n  searchIcon: {\n    marginRight: '8px',\n    color: '#b3b3b3',\n  },\n  searchInput: {\n    flexGrow: 1,\n    border: 'none',\n    backgroundColor: 'transparent',\n    color: '#FFFFFF',\n    fontSize: '14px',\n    outline: 'none',\n    '::placeholder': {\n        color: '#b3b3b3',\n    },\n  },\n\n  // Titles and Text\n  viewTitle: {\n    fontSize: '24px',\n    fontWeight: 'bold',\n    marginBottom: '20px',\n    color: '#FFFFFF',\n  },\n  backButton: {\n    background: 'none',\n    border: 'none',\n    color: '#b3b3b3',\n    cursor: 'pointer',\n    marginBottom: '20px',\n    fontSize: '14px',\n    display: 'flex',\n    alignItems: 'center',\n    '&:hover': {\n      color: '#FFFFFF',\n    }\n  },\n\n  // Grid Layout (Artists, Albums)\n  gridContainer: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(180px, 1fr))', // Responsive grid\n    gap: '24px',\n  },\n  card: {\n    backgroundColor: '#181818', // Card background\n    borderRadius: '8px',\n    padding: '16px',\n    cursor: 'pointer',\n    transition: 'background-color 0.2s ease-in-out',\n    position: 'relative', // For play button positioning\n    '&:hover': {\n      backgroundColor: '#282828',\n    },\n     // Add hover effect for play button visibility\n     '&:hover .cardPlayButton': { // Targeting by class name needs specific setup or CSS Modules\n       opacity: 1,\n       transform: 'translateY(0)',\n     },\n  },\n  cardImageContainer: {\n    position: 'relative',\n    marginBottom: '16px',\n    paddingBottom: '100%', // Makes it square\n    height: 0,\n    overflow: 'hidden',\n    borderRadius: '4px', // Slightly rounded images within card\n     boxShadow: '0 8px 24px rgba(0,0,0,.5)', // Shadow for depth\n  },\n  cardImage: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    objectFit: 'cover',\n    borderRadius: '4px', // Match container\n  },\n   cardPlayButton: { // Style the play button on cards\n    position: 'absolute',\n    bottom: '8px',\n    right: '8px',\n    backgroundColor: '#1DB954', // Spotify green\n    color: '#000000', // Black icon\n    border: 'none',\n    borderRadius: '50%',\n    width: '48px',\n    height: '48px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    cursor: 'pointer',\n    opacity: 0, // Hidden by default\n    transform: 'translateY(8px)', // Start slightly lower\n    transition: 'opacity 0.3s ease, transform 0.3s ease',\n    boxShadow: '0 4px 8px rgba(0,0,0,.3)',\n     // Note: Targeting pseudo-elements/classes in JS styles is limited\n     // Real hover effects are better with CSS/CSS-in-JS libs\n  },\n  cardInfo: {\n    minHeight: '62px', // Ensure consistent height\n  },\n  cardTitle: {\n    fontSize: '16px',\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    marginBottom: '4px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  cardSubtitle: {\n    fontSize: '14px',\n    color: '#b3b3b3',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n\n   // Album Header (Song List View)\n   albumHeader: {\n       display: 'flex',\n       alignItems: 'flex-end', // Align items to bottom\n       gap: '24px',\n       marginBottom: '32px',\n       padding: '16px 0',\n   },\n    albumHeaderImage: {\n        width: '150px',\n        height: '150px',\n        objectFit: 'cover',\n        borderRadius: '4px',\n        boxShadow: '0 4px 60px rgba(0, 0, 0, 0.5)',\n    },\n    albumHeaderInfo: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '8px',\n    },\n    albumHeaderType: {\n        fontSize: '12px',\n        fontWeight: 'bold',\n        textTransform: 'uppercase',\n        color: '#FFFFFF',\n    },\n    albumHeaderTitle: {\n        fontSize: '32px', // Larger title\n        fontWeight: 'bold',\n        color: '#FFFFFF',\n        margin: 0, // Reset default margin\n        lineHeight: 1.2,\n    },\n    albumHeaderMeta: {\n        fontSize: '14px',\n        color: '#b3b3b3',\n    },\n\n  // Song List\n  songList: {\n    listStyle: 'none',\n    padding: 0,\n    margin: 0,\n  },\n  songItem: {\n    display: 'grid',\n    gridTemplateColumns: 'auto 1fr auto', // Track#, Title/Artist, Duration\n    alignItems: 'center',\n    gap: '16px',\n    padding: '10px 16px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    transition: 'background-color 0.2s ease',\n    '&:hover': {\n      backgroundColor: 'rgba(255, 255, 255, 0.05)',\n    },\n  },\n  songItemTrack: {\n     fontSize: '14px',\n     color: '#b3b3b3',\n     width: '20px', // Fixed width for alignment\n     textAlign: 'right',\n     display: 'flex',\n     justifyContent: 'flex-end',\n     alignItems: 'center',\n  },\n  songItemDetails: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  songItemTitle: {\n    fontSize: '16px',\n    color: '#FFFFFF', // Will be overridden by active style\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  songItemArtist: { // Used in details view\n    fontSize: '14px',\n    color: '#b3b3b3',\n  },\n   songItemArtistLight: { // Used in list view\n    fontSize: '14px',\n    color: '#a7a7a7',\n  },\n  songItemDuration: {\n    fontSize: '14px',\n    color: '#b3b3b3',\n  },\n\n  // --- Player Bar Styles ---\n  playerBar: {\n    height: '90px', // Fixed height for the player bar\n    backgroundColor: '#181818', // Darker background for player\n    borderTop: '1px solid #282828',\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '0 16px',\n    zIndex: 1000, // Ensure it's above other content\n  },\n\n  // 1. Now Playing Section (Left)\n  nowPlayingContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '12px',\n    flex: '1 1 0%', // Grow and shrink proportionally\n    minWidth: '180px', // Minimum width before shrinking\n  },\n  nowPlayingCover: {\n    width: '56px',\n    height: '56px',\n    borderRadius: '4px',\n    objectFit: 'cover',\n  },\n  nowPlayingInfo: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '2px',\n    overflow: 'hidden', // Prevent text overflow issues\n  },\n  nowPlayingTitle: {\n    fontSize: '14px',\n    fontWeight: '500',\n    color: '#FFFFFF',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  nowPlayingArtist: {\n    fontSize: '12px',\n    color: '#b3b3b3',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n\n  // 2. Player Controls & Progress (Center)\n  playerControlsCenter: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    gap: '8px',\n    flex: '2 1 0%', // Takes up more space\n    maxWidth: '720px', // Max width for controls area\n  },\n  playerButtons: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '16px', // Space between main control buttons\n  },\n  iconButton: { // General style for small icon buttons\n    background: 'none',\n    border: 'none',\n    color: '#b3b3b3', // Default icon color\n    cursor: 'pointer',\n    padding: '4px', // Small padding around icon\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    transition: 'color 0.2s ease',\n    '&:hover': {\n      color: '#FFFFFF',\n    },\n  },\n  playPauseButton: {\n    background: '#FFFFFF', // White background for play button\n    border: 'none',\n    color: '#000000', // Black icon\n    borderRadius: '50%',\n    width: '32px',\n    height: '32px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    cursor: 'pointer',\n    transition: 'transform 0.1s ease',\n    '&:hover': {\n        transform: 'scale(1.05)',\n    },\n      '&:active': {\n        transform: 'scale(0.98)',\n    },\n  },\n\n  // Progress Bar Styles\n  progressBarContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    width: '100%', // Take full width of the center section\n  },\n  timeLabel: {\n    fontSize: '11px',\n    color: '#a7a7a7',\n    minWidth: '40px', // Prevent time labels from jumping around\n    textAlign: 'center',\n  },\n  progressBarWrapper: {\n    flexGrow: 1, // Allow progress bar to fill space\n    height: '12px', // Make it easier to click\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    position: 'relative', // For handle positioning\n     // Add hover effect to show handle\n    '&:hover .progressBarHandle': { // Needs CSS Modules or similar\n        opacity: 1,\n    },\n     '&:hover .progressBarForeground': { // Needs CSS Modules or similar\n        backgroundColor: '#1DB954', // Green on hover\n    },\n  },\n  progressBarBackground: {\n    backgroundColor: '#4d4d4d', // Darker gray background\n    height: '4px',\n    width: '100%',\n    borderRadius: '2px',\n    position: 'absolute', // Position behind foreground\n  },\n  progressBarForeground: {\n    backgroundColor: '#b3b3b3', // Lighter gray for progress\n    height: '4px',\n    borderRadius: '2px',\n    position: 'relative', // Ensure it's above background\n    transition: 'background-color 0.2s ease', // Smooth color change on hover\n  },\n  progressBarHandle: {\n    backgroundColor: '#FFFFFF', // White handle\n    borderRadius: '50%',\n    width: '12px',\n    height: '12px',\n    position: 'absolute',\n    // left is set dynamically based on progress\n    top: '0px', // Center vertically on the 12px wrapper height\n    border: 'none',\n    padding: 0, // Reset button padding\n    opacity: 0, // Hidden by default, shown on hover/active\n    transform: 'translateX(-50%)', // Center handle on the progress line\n    transition: 'opacity 0.2s ease',\n     boxShadow: '0 1px 3px rgba(0,0,0,.3)',\n  },\n\n  // 3. Volume & Other Controls (Right)\n  playerControlsRight: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end', // Align controls to the right\n    gap: '12px',\n    flex: '1 1 0%', // Grow and shrink\n    minWidth: '180px', // Minimum width\n  },\n  volumeSlider: {\n    width: '90px', // Adjust width as needed\n    height: '4px',\n    cursor: 'pointer',\n    appearance: 'none', // Override default look\n    background: '#4d4d4d', // Slider track color\n    borderRadius: '2px',\n    outline: 'none',\n     // Style the thumb (handle) - needs vendor prefixes usually\n     // This is a basic approximation for webkit\n     '&::-webkit-slider-thumb': {\n        appearance: 'none',\n        width: '12px',\n        height: '12px',\n        backgroundColor: '#b3b3b3',\n        borderRadius: '50%',\n        cursor: 'pointer',\n     },\n      '&:hover::-webkit-slider-thumb': {\n        backgroundColor: '#FFFFFF',\n     },\n     // Add ::-moz-range-thumb for Firefox if needed\n  },\n\n};"],"names":[],"mappings":"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","debugId":null}}]
}